<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>Blog &middot; Hyeonil's Note</title><!--[if gt IE 8]><!----><style> article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html,body{margin:0;padding:0}html{line-height:1.65}body{color:#515151;background-color:#fff}a{text-decoration:none}img{display:block;max-width:100%;margin:0 0 1rem}img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem);margin-left:calc(-1rem);margin-right:calc(-1rem)}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:600;line-height:1.25;color:#313131;text-rendering:optimizeLegibility}h1{font-size:2rem}h2{margin-top:1rem;font-size:1.5rem}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.25rem;font-weight:300}ul,ol,dl{margin-top:0;margin-bottom:1rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}.container{max-width:38rem;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}.page-title,.post-title{color:#303030}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-.25rem;margin-bottom:1rem;color:#9a9a9a;font-weight:bold}.related{padding-top:2rem;padding-bottom:2rem}.related-posts{padding-left:0;list-style:none}.related-posts>li{margin-top:1rem}.related-posts>li>*{font-weight:normal}.message{margin-bottom:1rem;padding:1rem;color:#717171;background-color:#f9f9f9;margin-left:-1rem;margin-right:-1rem}body{padding-left:0.5rem}@media (min-width: 48em){html{font-size:16px}body{padding-left:0}}@media (min-width: 58em){html{font-size:18px}}.sr-only{display:none}.backdrop{display:none}.sidebar{position:relative;z-index:4;padding:2rem 1rem;color:rgba(255,255,255,0.75);background-color:#202020;text-align:left;background-size:cover;background-position:center center;min-height:640px;min-height:100vh;margin-left:-0.5rem}.sidebar a{color:#fff}.sidebar ul{list-style:none;padding-left:0}.sidebar-sticky{position:absolute;right:1rem;bottom:1rem;left:1rem}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav-item{font-weight:bold;display:block;line-height:1.75;padding:.25rem .1rem;border-top:1px solid rgba(255,255,255,0.23)}.sidebar-social>ul{min-height:3.5rem}.sidebar::before{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(32,32,32,0.33);background:-moz-linear-gradient(bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%);background:-webkit-linear-gradient(bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%);background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}@media (min-width: 48em){.sidebar{position:fixed;top:0;left:0;bottom:0;width:18rem;margin-left:0}}.menu{display:block;padding:1.25rem 1.5rem;color:#9a9a9a;border-bottom:none;position:fixed;top:0;left:0;z-index:2}@media (min-width: 48em){.menu{position:absolute;left:-9999px}}@media (min-width: 48em){.menu:focus{left:19.5rem}}@media (min-width: 64em){.menu:focus{left:21.5rem}}.content{padding-top:4rem;padding-bottom:4rem}@media (min-width: 48em){.content{max-width:38rem;margin-left:20rem;margin-right:2rem;border-left:none}}@media (min-width: 64em){.content{margin-left:22rem;margin-right:4rem}}.me{float:right;width:6.5rem;margin-top:-4.8rem;margin-left:1rem;border-radius:100%;position:relative}@media (min-width: 38em){.me{width:7rem;margin-top:-5.05rem}}@media (min-width: 48em){.me{width:6.5rem;margin-top:-4.8rem}}@media (min-width: 58em){.me{width:7rem;margin-top:-5.05rem}}</style><noscript><link rel="stylesheet" href="/public/css/non-essentials.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|PT+Serif:400,400italic,700,700italic"> </noscript><link rel="preload" href="/public/css/non-essentials.css" as="style" onload="this.rel='stylesheet'"><style> html { font-family: "PT Serif", Georgia, serif; } :focus { outline-color: #A85641; } .font-accent { font-family: "Roboto Slab", "PT Serif", Georgia, serif; } .content a, .related-posts li a:hover { color: #A85641; } ::selection { color: #fff; background: #A85641; } ::-moz-selection { color: #fff; background: #A85641; } .sidebar { background-image: url('/public/img/side.jpg'); }</style><!--<![endif]--><link rel="canonical" href="https://blog.nuti.pe.kr/page-7/" /><link rel="alternate" type="application/atom+xml" title="Hyeonil's Note Atom Feed" href="/atom.xml"><link rel="stylesheet" href="/public/css/asciidoctor.css"><link rel="stylesheet" href="/public/css/coderay.css"><link rel="stylesheet" href="/public/css/font-awesome.min.css"><link rel="stylesheet" href="/public/css/foundation.min.css"><link rel="stylesheet" href="/public/css/normalize.css"><link rel="stylesheet" href="/public/css/custom.css"> <script>!function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n.isReady=!1,n.loadJSDeferred=function(a,r){function d(){n.isReady=!0;var d=e.createElement("script");d.src=a,r&&(("onload"in d?t:o)(d,r),d.onload||t(d,r));var i=e.getElementsByTagName("script")[0];i.parentNode.insertBefore(d,i)}n.isReady?d():n.addEventListener?n.addEventListener("load",d,!1):n.attachEvent?n.attachEvent("onload",d):n.onload=d}}(window,document); </script> <!--[if lt IE 9]> <script src="https://unpkg.com/html5shiv/dist/html5shiv.min.js"></script> <![endif]--><body> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu" href="#_asidebar"> <span>☰</span> <span class="sr-only">Menu</span> </a><main class="content container" role="main"><article id="post-2016/05/04/mariadb-replication" class="post" role="article"><h1 class="post-title"> <a href="/2016/05/04/mariadb-replication/"> MariaDB Replication(복제) 설정 </a></h1><div class="post-date"> <time datetime="2016-05-04T00:00:00+00:00">2016/05/04/</time> <span>on <a href="/tag/etc/">Etc</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="replication"><a class="link" href="#replication">1. Replication?</a></h2><div class="sectionbody"><div class="paragraph"><p><code>Replication</code>은 <code>MariaDB</code>에서 제공하는 <code>Master-Slave</code>간에 데이터를 복제(이중화)하는 기능입니다. <code>MariaDB</code>에서는 <code>Replication</code>외에도 <code>Galera Cluster</code>를 이용하는 방법도 있습니다.</div><div class="ulist"><ul><li><p>적용 환경</ul></div><div class="paragraph"><p>Master OS : CentOS 7 Master DMBS : MariaDB 10.1.11</div><div class="paragraph"><p>Slave OS : CentOS 7 Slave DBMS : MariaDB 10.1.11</div><div class="paragraph"><p><strong><code>Replication</code> 설정 시 <code>Master</code>와 <code>Slave</code>에 동일한 구조의 DB나 TABLE이 존재해야 합니다.</strong></div><div class="sect2"><h3 id="master_설정"><a class="link" href="#master_설정">1.1. Master 설정</a></h3><div class="paragraph"><p><code>/etc/my.cnf.d/</code> 에서 <code>server.cnf</code>(혹은 <code>my.cnf</code>)파일에 다음과 같이 설정합니다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="plain">[mysqld]
server-id               = 1
log_bin                 = /var/log/mysql/mariadb-bin
log_bin_index           = /var/log/mysql/mariadb-bin.index
expire_logs_days        = 10
max_binlog_size         = 100M</code></pre></div></div><div class="paragraph"><p><strong>여기서 <code>/var/log/mysql/</code>은 소유자가 <code>mysql</code>이어야 합니다.</strong></div><div class="paragraph"><p>그 후 DBMS 재시작을 합니다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">service mariadb restart</code></pre></div></div><div class="paragraph"><p><code>MariaDB</code>에 접속하여 <code>Replication</code> 사용자를 생성합니다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">CREATE USER 'replication_user'@'%' IDENTIFIED BY 'password';
GRANT REPLICATION SLAVE ON *.* TO replication_user;</code></pre></div></div><div class="paragraph"><p>운영중인 서버라면 <strong>DB에 락</strong>을 걸어주고 <code>MASTER</code>정보를 조회합니다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">FLUSH TABLES WITH READ LOCK; # 운영중인 서버라면 테이블에 락을 걸어준다.
SHOW MASTER STATUS; # MASTER 정보를 조회</code></pre></div></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="plain">+--------------------+----------+--------------+------------------+
| File               | Position | Binlog_Do_DB | Binlog_Ignore_DB |
+--------------------+----------+--------------+------------------+
| mariadb-bin.000005 |     2033 |              |                  |
+--------------------+----------+--------------+------------------+</code></pre></div></div><div class="paragraph"><p><strong>여기서 File과 Position은 <code>Slave</code> 설정 시 필요하니 잘 기억해 두세요.</strong></div></div><div class="sect2"><h3 id="slave_설정"><a class="link" href="#slave_설정">1.2. Slave 설정</a></h3><div class="paragraph"><p><code>/etc/my.cnf.d/</code> 에서 <code>server.cnf</code>(혹은 <code>my.cnf</code>)파일에 다음과 같이 설정합니다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="plain">[mysqld]
server-id               = 2
log_bin                 = /var/log/mysql/mariadb-bin
log_bin_index           = /var/log/mysql/mariadb-bin.index
expire_logs_days        = 10
max_binlog_size         = 100M
relay_log               = /var/log/mysql/relay-bin
relay_log_index         = /var/log/mysql/relay-bin.index
relay_log_info_file     = /var/log/mysql/relay-bin.info
log_slave_updates
replicate-ignore-db     = test
replicate-ignore-db     = information_schema
replicate-ignore-db     = mysql</code></pre></div></div><div class="paragraph"><p><code>replicate-ignore-db</code>는 복제하지 않을 DB를 지정해주는 것입니다. <code>replicate-ignore-db</code> 외에도 <code>replicate-do-table</code>, <code>replicate-do-db</code> 등 특정 DB 혹은 테이블만 지정해서 복제하는 방법도 있습니다.</div><div class="paragraph"><p>이제 DBMS를 재시작 합니다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">service mariadb restart</code></pre></div></div><div class="paragraph"><p>이제 <code>mariadb</code>에 접속하여 다음의 명령어를 실행시킵니다. 여기서 <code>MASTER_LOG_FILE</code>과 <code>MASTER_LOG_POS</code>는 <code>Master</code> 정보(<code>Master</code> 설정 시 조회한 정보)와 동일하게 설정합니다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">CHANGE MASTER TO
MASTER_HOST='Master IP',
MASTER_USER='replication_user',
MASTER_PASSWORD='password',
MASTER_PORT=portNumber,
MASTER_LOG_FILE='Master File',
MASTER_LOG_POS=Master Position,
MASTER_CONNECT_RETRY=10;

FLUSH PRIVILEGES;

START SLAVE;</code></pre></div></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">SHOW SLAVE STATUS\G;</code></pre></div></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="plain">*************************** 1. row ***************************
               Slave_IO_State: Waiting for master to send event
                  Master_Host: ip
                  Master_User: replication_user
                  Master_Port: port
                Connect_Retry: 10
              Master_Log_File: master file
          Read_Master_Log_Pos: master pos
               Relay_Log_File: relay file
                Relay_Log_Pos: relay pos
        Relay_Master_Log_File: relay master file
             Slave_IO_Running: Yes
            Slave_SQL_Running: Yes
              Replicate_Do_DB:
          Replicate_Ignore_DB: test,information_schema,mysql
           Replicate_Do_Table:
       Replicate_Ignore_Table:
      Replicate_Wild_Do_Table:
  Replicate_Wild_Ignore_Table:
                   Last_Errno: 0
                   Last_Error:
                 Skip_Counter: 0
          Exec_Master_Log_Pos: exec master pos
              Relay_Log_Space: relay log space
              Until_Condition: None
               Until_Log_File:
                Until_Log_Pos: 0
           Master_SSL_Allowed: No
           Master_SSL_CA_File:
           Master_SSL_CA_Path:
              Master_SSL_Cert:
            Master_SSL_Cipher:
               Master_SSL_Key:
        Seconds_Behind_Master: 0
Master_SSL_Verify_Server_Cert: No
                Last_IO_Errno: 0
                Last_IO_Error:
               Last_SQL_Errno: 0
               Last_SQL_Error:
  Replicate_Ignore_Server_Ids:
             Master_Server_Id: 1
               Master_SSL_Crl:
           Master_SSL_Crlpath:
                   Using_Gtid: No
                  Gtid_IO_Pos:
      Replicate_Do_Domain_Ids:
  Replicate_Ignore_Domain_Ids:
                Parallel_Mode: conservative</code></pre></div></div><div class="paragraph"><p>위의 명령어를 통해 <code>slave</code> 상태를 조회할 수 있습니다. <code>slave</code>상태를 조회 시 에러가 없다면 설정이 완료되었습니다. 이제 <code>Master</code>로 다시 돌아가서 락을 해제합니다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">UNLOCK TABLES;</code></pre></div></div></div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2016/05/04/mariadb-daily-backup" class="post" role="article"><h1 class="post-title"> <a href="/2016/05/04/mariadb-daily-backup/"> MariaDB Automatically Daily Dump(매일 백업하기) </a></h1><div class="post-date"> <time datetime="2016-05-04T00:00:00+00:00">2016/05/04/</time> <span>on <a href="/tag/etc/">Etc</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="paragraph"><p>우선 아래와 같은 쉘 스크립트를 만든다. 아래의 스크립트는 <code>DBMS</code>에 있는 모든 DB에서 특정 DB를 제외한 DB를 덤프하는 스크립트다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">#!/bin/bash

# Database credentials
user=&quot;user_name&quot;
password=&quot;password&quot;
host=&quot;localhost&quot;

# Other options
backup_path=&quot;/your/path/to/backup&quot;
date=$(date +&quot;%Y-%m-%d&quot;)

# To create a new directory into backup directory location
mkdir -p $backup_path/$date

# get a list of databases
db_names=`mysql -u$user -p$password -e &quot;SHOW DATABASES;&quot; | grep -Ev &quot;(information_schema|test|performance_schema|mysql)&quot;`

# Dupm database into SQL file
for db_name in $db_names; do
        mysqldump --add-locks --add-drop-table --force --user=$user --password=$password --host=$host $db_name | gzip &gt; $backup_path/$date/$db_name.sql.gz
done

# Delete files older than 10 days
find $backup_path/* -mtime +10 -exec rm {} \;</code></pre></div></div><div class="paragraph"><p>스크립트를 다 만들었으면 <code>crontab</code>에 등록을 한다.(<code>crontab</code>이 설치가 안돼있을 경우에는 설치부터, 설치 과정은 생략) 크론은 <code>CentOS 7</code> 기준으로 <code>/etc/cron.d/</code> 디렉토리에 등록하면 된다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash"># For Details see man 4 crontabs

# Example of job definition:

# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed

0 1 * * * user_name /your/path/to/script/script.sh</code></pre></div></div><div class="paragraph"><p>이렇게 하면 매일 오전 1시에 크론이 위의 스크립트를 실행하여 DB를 덤프한다.</div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2015/06/27/nginx-proxy" class="post" role="article"><h1 class="post-title"> <a href="/2015/06/27/nginx-proxy/"> nginx proxy 설정 </a></h1><div class="post-date"> <time datetime="2015-06-27T00:00:00+00:00">2015/06/27/</time> <span>on <a href="/tag/etc/">Etc</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="paragraph"><p><code>/etc/nginx/</code>의 하위 디렉토리인 <code>conf.d</code>로 들어가서 <code>xxxx.conf</code> 파일 생성</div><div class="paragraph"><p>해당 파일에 아래와 같은 정보 입력</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="plain">server {
        listen 80;
        server_name your.domain.com;

        access_log /var/log/admin/access.log;
        error_log /var/log/admin/error.log;

        location / {
                proxy_pass_header Server;
                proxy_set_header Host $http_host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Scheme $scheme;
                proxy_pass http://127.0.0.1:8080;
        }
}</code></pre></div></div><div class="paragraph"><p>저장 후 <code>nginx</code> 재시작</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">service nginx restart</code></pre></div></div><div class="paragraph"><p>기본 <code>nginx</code>설정이라면 <code>conf.d</code> 에 있는 파일을 모두 불러와서 로딩시켜주므로 별도의 설정은 필요 없음</div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2014/05/03/java-swing-graphics-animation" class="post" role="article"><h1 class="post-title"> <a href="/2014/05/03/java-swing-graphics-animation/"> 자바 Swing Graphics 이미지 그리기 및 밝기 변화를 이용한 애니메이션 효과 </a></h1><div class="post-date"> <time datetime="2014-05-03T00:00:00+00:00">2014/05/03/</time> <span>on <a href="/tag/java/">Java</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/**
 *
 * @param g - Graphics의 객체
 * @param imgStr - 이미지 파일 이름
 * @param str - 이미지 위에 띄울 멘트
 */</span>
<span class="directive">private</span> <span class="type">void</span> drawMyImg(<span class="predefined-type">Graphics</span> g, <span class="predefined-type">String</span> imgStr, <span class="predefined-type">String</span> str) {
    setBackground(<span class="predefined-type">Color</span>.white);
    <span class="predefined-type">Image</span> img = loadImage(imgStr);
    g.drawImage(img, <span class="integer">0</span>, <span class="integer">0</span>, m_width, m_height, <span class="local-variable">this</span>);
    setBright(g, str);
}

<span class="comment">/**
 * 이미지 불러오기
 * @param name - 이미지 파일이름
 * @return - 이미지 객체
 */</span>
<span class="directive">private</span> <span class="predefined-type">Image</span> loadImage(<span class="predefined-type">String</span> name) {
    <span class="predefined-type">Image</span> result = <span class="predefined-constant">null</span>;
    <span class="predefined-type">MediaTracker</span> tracker = <span class="keyword">new</span> <span class="predefined-type">MediaTracker</span>(<span class="local-variable">this</span>);

    <span class="predefined-type">Toolkit</span> toolkit = <span class="predefined-type">Toolkit</span>.getDefaultToolkit();
    result = toolkit.getImage(name);
    tracker.addImage(result, <span class="integer">0</span>);
    <span class="keyword">try</span> {
        tracker.waitForAll();
    } <span class="keyword">catch</span> (<span class="exception">InterruptedException</span> e) {
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
    }

    <span class="keyword">return</span> result;
}

<span class="comment">/**
 * 밝기정보 변화 및 글자 그리기(애니메이션 효과)
 * @param g - Graphics의 객체
 * @param str - 화면에 띄울 문자
 */</span>
<span class="directive">private</span> <span class="type">void</span> setBright(<span class="predefined-type">Graphics</span> g, <span class="predefined-type">String</span> str) {
    <span class="type">int</span> brightness = (<span class="type">int</span>)(<span class="integer">256</span> - <span class="integer">256</span> * percentage);

    g.setColor(strColor);

    g.drawString(str, m_width/<span class="integer">2</span>-(str.length()/<span class="integer">2</span>)*mulSize, str_height);
    g.setColor(<span class="keyword">new</span> <span class="predefined-type">Color</span>(<span class="integer">255</span>,<span class="integer">255</span>,<span class="integer">255</span>,brightness));

        g.fillRect(<span class="integer">0</span>, <span class="integer">0</span>, getWidth(), getHeight());
        percentage += <span class="float">0.01f</span>;
        <span class="keyword">try</span> {
            <span class="predefined-type">Thread</span>.sleep(sleepTime);
        } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {

        }
        <span class="keyword">if</span> (percentage &gt; <span class="float">0.99f</span>) {
            step++;
            percentage=initPercentage;
            <span class="keyword">try</span> {
                <span class="predefined-type">Thread</span>.sleep(sleepLastTime);
            } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {

            }
        }
        repaint();
}</code></pre></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2014/05/03/java-bgm" class="post" role="article"><h1 class="post-title"> <a href="/2014/05/03/java-bgm/"> 자바 음향효과(BGM) </a></h1><div class="post-date"> <time datetime="2014-05-03T00:00:00+00:00">2014/05/03/</time> <span>on <a href="/tag/java/">Java</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">AudioClip</span> clip;
<span class="keyword">try</span> {
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">resources/bgm/bgm.wav</span><span class="delimiter">&quot;</span></span>);
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span>clip = <span class="predefined-type">Applet</span>.newAudioClip(file.toURL());
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span>clip.play();
} <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
<span class="error"> </span><span class="error"> </span><span class="error"> </span><span class="error"> </span>e.printStackTrace();
}</code></pre></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><h2 class="sr-only">Pagination</h2><nav class="pagination" role="navigation"><ul><li class="pagination-item older" > <span>Older</span><li class="pagination-item newer" > <a rel="prev" href="/page-6">Newer</a></ul></nav></main><div id="_backdrop" class="backdrop"></div><header id="_sidebar" class="sidebar" role="banner"><div id="_asidebar" class="container sidebar-sticky"><div class="sidebar-about"><h1 class="font-accent"><a href="/">Hyeonil's Note</a></h1><p>Hyeonil’s Dev Note</div><nav class="sidebar-nav font-accent" role="navigation"><ul><li> <a class="sidebar-nav-item " href="/tag/all/">All</a><li> <a class="sidebar-nav-item " href="/tag/java/">Java</a><li> <a class="sidebar-nav-item " href="/tag/spring/">Spring</a><li> <a class="sidebar-nav-item " href="/tag/spec/">Specification</a><li> <a class="sidebar-nav-item " href="/tag/architecture/">Architecture</a><li> <a class="sidebar-nav-item " href="/tag/diary/">Diary</a><li> <a class="sidebar-nav-item " href="/tag/etc/">Etc</a><li> <a class="sidebar-nav-item " href="/about/">About</a></ul></nav><div class="sidebar-social"><ul><li> <a href="https://github.com/hyeonil"> <span class="fa fa-github"></span> <span class="sr-only">github</span> </a><li> <a href="https://nuti.tistory.com"> <span class="fa fa-external-link"></span> <span class="sr-only">blog</span> </a></ul></div></div></header><!--[if gt IE 8]><!----> <script>loadJSDeferred('/public/js/hydejack.min.js')</script> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|PT+Serif:400,400italic,700,700italic'.split('|') }, custom: { families: ['icomoon'], urls: ['/public/css/font-awesome.min.css'] }, classes: false, events: false }; </script> <script>loadJSDeferred('https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js')</script> <script> window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga('create', 'UA-88066046-1', 'auto'); ga('send', 'pageview'); </script> <script>loadJSDeferred('https://www.google-analytics.com/analytics.js')</script> <!--<![endif]-->
