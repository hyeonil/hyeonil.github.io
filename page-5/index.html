<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>Blog &middot; Hyeonil's Note</title><!--[if gt IE 8]><!----><style> article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html,body{margin:0;padding:0}html{line-height:1.65}body{color:#515151;background-color:#fff}a{text-decoration:none}img{display:block;max-width:100%;margin:0 0 1rem}img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem);margin-left:calc(-1rem);margin-right:calc(-1rem)}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:600;line-height:1.25;color:#313131;text-rendering:optimizeLegibility}h1{font-size:2rem}h2{margin-top:1rem;font-size:1.5rem}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.25rem;font-weight:300}ul,ol,dl{margin-top:0;margin-bottom:1rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}.container{max-width:38rem;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}.page-title,.post-title{color:#303030}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-.25rem;margin-bottom:1rem;color:#9a9a9a;font-weight:bold}.related{padding-top:2rem;padding-bottom:2rem}.related-posts{padding-left:0;list-style:none}.related-posts>li{margin-top:1rem}.related-posts>li>*{font-weight:normal}.message{margin-bottom:1rem;padding:1rem;color:#717171;background-color:#f9f9f9;margin-left:-1rem;margin-right:-1rem}body{padding-left:0.5rem}@media (min-width: 48em){html{font-size:16px}body{padding-left:0}}@media (min-width: 58em){html{font-size:18px}}.sr-only{display:none}.backdrop{display:none}.sidebar{position:relative;z-index:4;padding:2rem 1rem;color:rgba(255,255,255,0.75);background-color:#202020;text-align:left;background-size:cover;background-position:center center;min-height:640px;min-height:100vh;margin-left:-0.5rem}.sidebar a{color:#fff}.sidebar ul{list-style:none;padding-left:0}.sidebar-sticky{position:absolute;right:1rem;bottom:1rem;left:1rem}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav-item{font-weight:bold;display:block;line-height:1.75;padding:.25rem .1rem;border-top:1px solid rgba(255,255,255,0.23)}.sidebar-social>ul{min-height:3.5rem}.sidebar::before{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(32,32,32,0.33);background:-moz-linear-gradient(bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%);background:-webkit-linear-gradient(bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%);background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}@media (min-width: 48em){.sidebar{position:fixed;top:0;left:0;bottom:0;width:18rem;margin-left:0}}.menu{display:block;padding:1.25rem 1.5rem;color:#9a9a9a;border-bottom:none;position:fixed;top:0;left:0;z-index:2}@media (min-width: 48em){.menu{position:absolute;left:-9999px}}@media (min-width: 48em){.menu:focus{left:19.5rem}}@media (min-width: 64em){.menu:focus{left:21.5rem}}.content{padding-top:4rem;padding-bottom:4rem}@media (min-width: 48em){.content{max-width:38rem;margin-left:20rem;margin-right:2rem;border-left:none}}@media (min-width: 64em){.content{margin-left:22rem;margin-right:4rem}}.me{float:right;width:6.5rem;margin-top:-4.8rem;margin-left:1rem;border-radius:100%;position:relative}@media (min-width: 38em){.me{width:7rem;margin-top:-5.05rem}}@media (min-width: 48em){.me{width:6.5rem;margin-top:-4.8rem}}@media (min-width: 58em){.me{width:7rem;margin-top:-5.05rem}}</style><noscript><link rel="stylesheet" href="/public/css/non-essentials.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|PT+Serif:400,400italic,700,700italic"> </noscript><link rel="preload" href="/public/css/non-essentials.css" as="style" onload="this.rel='stylesheet'"><style> html { font-family: "PT Serif", Georgia, serif; } :focus { outline-color: #A85641; } .font-accent { font-family: "Roboto Slab", "PT Serif", Georgia, serif; } .content a, .related-posts li a:hover { color: #A85641; } ::selection { color: #fff; background: #A85641; } ::-moz-selection { color: #fff; background: #A85641; } .sidebar { background-image: url('/public/img/side.jpg'); }</style><!--<![endif]--><link rel="canonical" href="https://blog.nuti.pe.kr/page-5/" /><link rel="alternate" type="application/atom+xml" title="Hyeonil's Note Atom Feed" href="/atom.xml"><link rel="stylesheet" href="/public/css/asciidoctor.css"><link rel="stylesheet" href="/public/css/coderay.css"><link rel="stylesheet" href="/public/css/font-awesome.min.css"><link rel="stylesheet" href="/public/css/foundation.min.css"><link rel="stylesheet" href="/public/css/normalize.css"><link rel="stylesheet" href="/public/css/custom.css"> <script>!function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n.isReady=!1,n.loadJSDeferred=function(a,r){function d(){n.isReady=!0;var d=e.createElement("script");d.src=a,r&&(("onload"in d?t:o)(d,r),d.onload||t(d,r));var i=e.getElementsByTagName("script")[0];i.parentNode.insertBefore(d,i)}n.isReady?d():n.addEventListener?n.addEventListener("load",d,!1):n.attachEvent?n.attachEvent("onload",d):n.onload=d}}(window,document); </script> <!--[if lt IE 9]> <script src="https://unpkg.com/html5shiv/dist/html5shiv.min.js"></script> <![endif]--><body> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu" href="#_asidebar"> <span>☰</span> <span class="sr-only">Menu</span> </a><main class="content container" role="main"><article id="post-2017/01/14/nginxloadbalancing" class="post" role="article"><h1 class="post-title"> <a href="/2017/01/14/nginxloadbalancing/"> NGINX Loadbalance 설정 </a></h1><div class="post-date"> <time datetime="2017-01-14T00:00:00+00:00">2017/01/14/</time> <span>on <a href="/tag/etc/">Etc</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">upstream groupName {
  ip_hash;
  server {ip}:{port} weight=5;
  server {ip}:{port};
  server {ip}:{port} backup;
}

server {
  listen 80;
  server_name your.domain.com;

  location / {
    ...
    proxy_pass http://groupName;
  }
}</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">ip_hash<td class="tableblock halign-left valign-top"><p class="tableblock">IP를 Hash해서 특정 클라이언트는 특정 서버로만 연결<tr><td class="tableblock halign-left valign-top"><p class="tableblock">least_conn<td class="tableblock halign-left valign-top"><p class="tableblock">가장 클라이언트 연결 갯수가 적은 서버로 전달하는 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">keepalive n<td class="tableblock halign-left valign-top"><p class="tableblock">n개의 커넥션을 유지<tr><td class="tableblock halign-left valign-top"><p class="tableblock">slow_start=n<td class="tableblock halign-left valign-top"><p class="tableblock">최근에 장애로부터 복구한 서버에 요청이 폭주하지 않도록 slow_start 에 주어진 시간만큼 기다려 줌<tr><td class="tableblock halign-left valign-top"><p class="tableblock">weight=n<td class="tableblock halign-left valign-top"><p class="tableblock">특정 서버로 가는 요청의 가중치를 지정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">max_fails=n<td class="tableblock halign-left valign-top"><p class="tableblock">설정한 값 n만큼 실패가 발생하면 서버가 죽은 것으로 간주<tr><td class="tableblock halign-left valign-top"><p class="tableblock">fail_timeout<td class="tableblock halign-left valign-top"><p class="tableblock">max_fails 가 설정된 상태에서 n 시간만큼 응답하지 않으면 죽은 것으로 간주<tr><td class="tableblock halign-left valign-top"><p class="tableblock">down<td class="tableblock halign-left valign-top"><p class="tableblock">해당 서버를 사용하지 않는다. ip_hash 옵션이 설정된 경우에만 유효<tr><td class="tableblock halign-left valign-top"><p class="tableblock">backup<td class="tableblock halign-left valign-top"><p class="tableblock">대기하고 있다가 설정된 모든 서버가 동작하지 않을 때 사용되는 서버</table><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2016/12/26/setmail" class="post" role="article"><h1 class="post-title"> <a href="/2016/12/26/setmail/"> CentOS 메일서버 설정 및 자바에서 메일 발송하기 </a></h1><div class="post-date"> <time datetime="2016-12-26T00:00:00+00:00">2016/12/26/</time> <span>on <a href="/tag/java/">Java</a><span>, </span><a href="/tag/etc/">Etc</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="centos_메일서버_설정"><a class="link" href="#centos_메일서버_설정">1. CentOS 메일서버 설정</a></h2><div class="sectionbody"><div class="sect2"><h3 id="sendmail_관련_패키지_설치"><a class="link" href="#sendmail_관련_패키지_설치">1.1. sendmail 관련 패키지 설치</a></h3><div class="paragraph"><p><code>sendmail</code>, <code>sendmail-cf</code>, <code>sendmail-devel</code> 패키지를 설치한다.</div><div class="paragraph"><p><strong>표준 패키지</strong></div><div class="paragraph"><p><code>sendmail</code> - 메일 전송 에이전트</div><div class="paragraph"><p><strong>추가 패키지</strong></div><div class="paragraph"><p><code>sendmail-cf</code> - sendmail을 재설정 하는데 필요한 파일들 <code>sendmail-devel</code></div><div class="paragraph"><p><strong>설치</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">yum install sendmail sendmail-cf sendmail-devel</code></pre></div></div></div><div class="sect2"><h3 id="sendmail_설정"><a class="link" href="#sendmail_설정">1.2. sendmail 설정</a></h3><div class="paragraph"><p>sendmail은 로컬에서만 메일을 발송하도록 하는데, 릴레이 설정을 하고, 메일 클라이언트를 통해서 발송할 수 있도록 아래와 같이 설정을 바꾼다.</div><div class="paragraph"><p><strong>/etc/mail/sendmail.mc</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="plain">52: TRUST_AUTH_MECH('EXTERNAL DIGEST-MD5 CRAM-MD5 LOGIN PLAIN') dnl
53: define('confAUTH_MECHANISMS', 'EXTERNAL GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN PLAIN') dnl
116: dnl DAEMON_OPTIONS('Port=smtp,Name=MTA') dnl</code></pre></div></div><div class="paragraph"><p>위 파일을 통해 <code>sendmail.cf</code> 파일을 생성한다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">m4 sendmail.mc &gt; sendmail.cf</code></pre></div></div></div><div class="sect2"><h3 id="sendmail_서비스_시작"><a class="link" href="#sendmail_서비스_시작">1.3. sendmail 서비스 시작</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">service start sendmail
chkconfig --level 2345 sendmail on</code></pre></div></div><div class="paragraph"><p>아래 설정은 부팅 시 실행되도록 설정하는 것이다.</div></div><div class="sect2"><h3 id="sendmail_access_수정"><a class="link" href="#sendmail_access_수정">1.4. sendmail access 수정</a></h3><div class="paragraph"><p>access권한을 수정한다.</div><div class="paragraph"><p><strong>/etc/mail/access</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="plain">.
.
.
Connect:192.168.0         RELAY</code></pre></div></div><div class="paragraph"><p>서비스를 재시작 한다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">service sendmail restart</code></pre></div></div></div></div></div><div class="sect1"><h2 id="자바_설정"><a class="link" href="#자바_설정">2. 자바 설정</a></h2><div class="sectionbody"><div class="sect2"><h3 id="dependency"><a class="link" href="#dependency">2.1. dependency</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>javax.mail<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>mail<span class="tag">&lt;/articactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>version<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre></div></div><div class="paragraph"><p>(spring 기준)</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 환경정보 설정</span>
<span class="comment">// 메일서버 주소를 IP 또는 도메인 명으로 지정</span>
<span class="predefined-type">Properties</span> props = <span class="predefined-type">System</span>.getProperties();
props.setProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">mail.smtp.host</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">127.0.0.1</span><span class="delimiter">&quot;</span></span>);
JavaMailSenderImpl javaMailSender = <span class="keyword">new</span> JavaMailSenderImpl();
javaMailSender.setJavaMailProperties(props);

<span class="keyword">try</span> {
  <span class="directive">final</span> MimeMessage mimeMessage = javaMailSender.createMimeMessage();
  <span class="type">boolean</span> html = <span class="predefined-constant">false</span>;
  MimeMessageHelper helper = <span class="keyword">new</span> MimeMessageHelper(mimeMessage, <span class="predefined-constant">true</span>, Charsets.UTF_8.displayName());
  helper.setFrom(<span class="keyword">new</span> InternetAddress(<span class="string"><span class="delimiter">&quot;</span><span class="content">dev.nuti0102@gmail.com</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">HyeonilJeong</span><span class="delimiter">&quot;</span></span>));
  helper.setTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">nuti0102@gmail.com</span><span class="delimiter">&quot;</span></span>);
  helper.setSubject(<span class="string"><span class="delimiter">&quot;</span><span class="content">Subject</span><span class="delimiter">&quot;</span></span>);

  <span class="keyword">if</span> (MailContentType.HTML.equals(MailContentType.HTML)) {
    html = <span class="predefined-constant">true</span>;
  }

  helper.setText(<span class="string"><span class="delimiter">&quot;</span><span class="content">Mail Content</span><span class="delimiter">&quot;</span></span>, html);

  <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; attachList = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
  attachList.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Attach File Path1</span><span class="delimiter">&quot;</span></span>);
  attachList.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Attach File Path2</span><span class="delimiter">&quot;</span></span>);

  <span class="keyword">for</span> (<span class="directive">final</span> <span class="predefined-type">String</span> attach : attachList) {
    <span class="directive">final</span> <span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(attach);

    <span class="keyword">if</span> (file.exists()) {
      helper.addAttachment(file.getName(), file);
    }
  }

  javaMailSender.send(mimeMessage);
} <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
  e.printStackTrace(<span class="predefined-type">System</span>.err);
}</code></pre></div></div></div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2016/12/25/dockeriptablestrouble" class="post" role="article"><h1 class="post-title"> <a href="/2016/12/25/dockeriptablestrouble/"> docker iptables 오류 </a></h1><div class="post-date"> <time datetime="2016-12-25T00:00:00+00:00">2016/12/25/</time> <span>on <a href="/tag/etc/">Etc</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">iptables failed: ~~~ ! -i docker0: iptables: No chain/target/match by that name</code></pre></div></div><div class="paragraph"><p>위와 같은 오류가 날 경우 아래와 같이 iptables에 DOCKER 체인을 등록해 주면 된다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">iptables -t nat -N DOCKER
iptables -t nat -A PREROUTING -m addrtype --dst-type LOCAL -j DOCKER
iptables -t nat -A PREROUTING -m addrtype --dst-type LOCAL ! --dst 127.0.0.0/8 -j DOCKER</code></pre></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2016/12/09/dockercontainer" class="post" role="article"><h1 class="post-title"> <a href="/2016/12/09/dockercontainer/"> Docker Container </a></h1><div class="post-date"> <time datetime="2016-12-09T00:00:00+00:00">2016/12/09/</time> <span>on <a href="/tag/etc/">Etc</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="docker_container_lifecycle"><a class="link" href="#docker_container_lifecycle">1. Docker Container Lifecycle</a></h2><div class="sectionbody"><div class="paragraph"><p>이미지가 생성되면 이미지를 바탕으로 컨테이너를 생성할 수 있다. 컨테이너의 Lifecycle은 아래와 같다.</div><div class="paragraph"><p><span class="image"><img src="/public/img/docker-container/docker-container-lifecycle.png" alt="Docker Container Lifecycle"></span></div><div class="sect2"><h3 id="컨테이너_생성docker_create"><a class="link" href="#컨테이너_생성docker_create">1.1. 컨테이너 생성(docker create)</a></h3><div class="paragraph"><p>Docker 이미지로 컨테이너를 생성한다. <code>docker create</code> 명령어를 실행하면 이미지에 포함된 linux 디렉토리 및 파일 집합의 스냅샷을 만든다.</div></div><div class="sect2"><h3 id="컨테이너_생성_및_구동docker_run"><a class="link" href="#컨테이너_생성_및_구동docker_run">1.2. 컨테이너 생성 및 구동(docker run)</a></h3><div class="paragraph"><p>Docker 이미지에서 컨테이너를 생성하여 컨테이너상에서 프로로세스를 구동한다.</div><div class="sect3"><h4 id="생성_및_구동"><a class="link" href="#생성_및_구동">1.2.1. 생성 및 구동</a></h4><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">옵션<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-a, –attach=[STDIN or STDOUT or STDERR]<td class="tableblock halign-left valign-top"><p class="tableblock">표준입력(STDIN), 표준출력(STDOUT), 표준 에러 출력(STDERR)을 연결<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–cidfile="file name"<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 ID를 파일로 출력<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-d, –detach=false<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너를 생성하여 백그라운드에서 실행<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-i, –interactive=false<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 표준 입력 열기<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-t, –tty=false<td class="tableblock halign-left valign-top"><p class="tableblock">tty(단말 디바이스)를 사용<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–name<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 명</table><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -it --name &quot;testCal&quot; centos /bin/cal</code></pre></div></div><div class="paragraph"><p><span class="image"><img src="/public/img/docker-container/test-cal.png" alt="test calendar"></span></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -it --name &quot;testBash&quot; centos /bin/bash</code></pre></div></div><div class="paragraph"><p><span class="image"><img src="/public/img/docker-container/test-bash.png" alt="test bash"></span></div></div><div class="sect3"><h4 id="백그라운드_실행"><a class="link" href="#백그라운드_실행">1.2.2. 백그라운드 실행</a></h4><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run [option] &lt;image&gt;[:tag] [cmd]</code></pre></div></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">옵션<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-d,–detach<td class="tableblock halign-left valign-top"><p class="tableblock">백그라운드에서 실행<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-u,–user="사용자명"<td class="tableblock halign-left valign-top"><p class="tableblock">사용자명을 입력<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–restart=[no or on-failure or on-failure:횟수n or always]<td class="tableblock halign-left valign-top"><p class="tableblock">커맨드 실행 결과에 따라 재기동<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–rm<td class="tableblock halign-left valign-top"><p class="tableblock">커맨드 실행 완료 후 컨테이너 자동 삭제</table><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -d centos /bin/ping localhost</code></pre></div></div><div class="paragraph"><p><span class="image"><img src="/public/img/docker-container/docker-run-background.png" alt="docker run background"></span></div><div class="paragraph"><p>실행이 완료된 후 컨테이너를 자동으로 삭제하고자 할 때에는 <code>rm</code>옵션을 사용한다. 또한, 커맨드 실행 결과에 따라 컨테이너를 재구동시키고자 할때에는 <code>restart</code> 옵션을 사용한다.</div><div class="paragraph"><p><code>restart</code>옵션은 아래와 같다.</div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">값<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">no<td class="tableblock halign-left valign-top"><p class="tableblock">재구동하지 않음<tr><td class="tableblock halign-left valign-top"><p class="tableblock">on-failure<td class="tableblock halign-left valign-top"><p class="tableblock">종료 status가 0이 아닌 경우 재구동<tr><td class="tableblock halign-left valign-top"><p class="tableblock">on-failure:횟수n<td class="tableblock halign-left valign-top"><p class="tableblock">종료 status가 0이 아닌 경우 n번 재구동<tr><td class="tableblock halign-left valign-top"><p class="tableblock">always<td class="tableblock halign-left valign-top"><p class="tableblock">항상 재구동</table></div><div class="sect3"><h4 id="컨테이너_네트워크_설정"><a class="link" href="#컨테이너_네트워크_설정">1.2.3. 컨테이너 네트워크 설정</a></h4><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run [option] &lt;image&gt;[:tag] [cmd]</code></pre></div></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">옵션<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">–add-host=[Host Name:IP Address]<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너의 /etc/hosts에 Host Name과 IP Address를 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–dns=[IP Address]<td class="tableblock halign-left valign-top"><p class="tableblock">DNS 서버의 IP Address를 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–expose=[Port Number]<td class="tableblock halign-left valign-top"><p class="tableblock">Port Number 할당<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–mac-address=[MAC Address]<td class="tableblock halign-left valign-top"><p class="tableblock">Container의 MAC Address 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–net=[bridge or none or container:'name or d' or host]<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 네트워크 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-h, –hostname=[Host Name]<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너의 Host Name 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-P, –publish-all=[true or false]<td class="tableblock halign-left valign-top"><p class="tableblock">임의의 포트를 컨테이너에 할당<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-p [Host Port Number]:[Container Port Number]<td class="tableblock halign-left valign-top"><p class="tableblock">Host와 Container의 Port를 매핑<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–link=[컨테이너명:alias]<td class="tableblock halign-left valign-top"><p class="tableblock">다른 컨테이너에서 액세스 시 이름 설정</table><div class="paragraph"><p><strong>Port Mapping</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -d -p 9000:80 httpd</code></pre></div></div><div class="paragraph"><p>호스트 포트 <code>9000</code>과 컨테이너 포트<code>80</code>에 매핑한다. 호스트 <code>9000</code>으로 액세스 하면 컨테이너 상의 <code>80</code>포트로 연결된다. 임의의 포트를 할당할 때에는 <code>P</code> 옵션을 사용한다.</div><div class="paragraph"><p><strong>DNS Server</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run --dns=192.168.1.1 httpd</code></pre></div></div><div class="paragraph"><p><strong>MAC Address</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -it --mac-address=&quot;92:d0:c6:0a:29:33&quot; centos</code></pre></div></div><div class="paragraph"><p><strong>Host Name</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -it --add-host=test.com:192.168.1.1 centos</code></pre></div></div><div class="paragraph"><p><strong>net option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">값<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">bridge<td class="tableblock halign-left valign-top"><p class="tableblock">bridge 접속(default) 사용<tr><td class="tableblock halign-left valign-top"><p class="tableblock">none<td class="tableblock halign-left valign-top"><p class="tableblock">네트워크에 접속하지 않음<tr><td class="tableblock halign-left valign-top"><p class="tableblock">container:[name or id]<td class="tableblock halign-left valign-top"><p class="tableblock">다른 컨테이너의 네트워크를 사용<tr><td class="tableblock halign-left valign-top"><p class="tableblock">host<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너가 호스트 OS의 네트워크를 사용</table></div><div class="sect3"><h4 id="리소스_설정"><a class="link" href="#리소스_설정">1.2.4. 리소스 설정</a></h4><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run [option] &lt;image&gt;[:tag] [cmd]</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-c,–cpu-shares=0<td class="tableblock halign-left valign-top"><p class="tableblock">CPU resource 분배<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-m,–memory=[usage]<td class="tableblock halign-left valign-top"><p class="tableblock">메모리 사용량 제한(단위는 b, k, m, g)<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-v,–volume=[host directory]:[container directory]<td class="tableblock halign-left valign-top"><p class="tableblock">호스트와 컨테이너의 디렉토리 공유</table><div class="paragraph"><p><strong>cpu &amp; memory</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run --cpu-shares=512 --memory=512m centos</code></pre></div></div><div class="paragraph"><p>Docker 리소스를 제한하는 기능은 <code>linux</code>의 <code>cgroups</code> 기능을 사용한다.</div><div class="paragraph"><p><code>Host OS</code>와 <code>Container</code>내의 디렉토리를 공유하고자 할 때는 volume option을 사용한다.</div><div class="paragraph"><p><strong>volume</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -v /c/Users/user/workspace:/var/www/html httpd</code></pre></div></div></div><div class="sect3"><h4 id="환경_설정"><a class="link" href="#환경_설정">1.2.5. 환경 설정</a></h4><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run [option] &lt;image&gt;[:tag] [cmd]</code></pre></div></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-e, –env=[환경변수]<td class="tableblock halign-left valign-top"><p class="tableblock">환경변수 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–env-file=[파일명]<td class="tableblock halign-left valign-top"><p class="tableblock">파일에서 환경변수 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–privileged=[true or false]<td class="tableblock halign-left valign-top"><p class="tableblock">privileged 모드에서 구동(호스트의 커널 기능도 사용 가능)<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–read-only=[true or false]<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너의 파일 시스템을 read-only로 설정<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-w, –workdir=[경로]<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너의 작업 디렉토리를 설정</table><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -it -e foo=bar centos /bin/bash</code></pre></div></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -it --env-file=env_list centos /bin/bash</code></pre></div></div></div></div><div class="sect2"><h3 id="컨테이너_목록_확인docker_ps"><a class="link" href="#컨테이너_목록_확인docker_ps">1.3. 컨테이너 목록 확인(docker ps)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker ps [option]</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-a, –all=false<td class="tableblock halign-left valign-top"><p class="tableblock">구동, 중지 상태의 모든 컨테이너를 표시<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–before=&quot;"<td class="tableblock halign-left valign-top"><p class="tableblock">입력한 컨테이너명 또는 ID보다 이전에 구동된 컨테이너를 표시 –since="&quot;<tr><td class="tableblock halign-left valign-top"><p class="tableblock">입력한 컨테이너명 또는 ID보다 이후에 구동된 컨테이너를 표시<td class="tableblock halign-left valign-top"><p class="tableblock">-l, –latest=false<tr><td class="tableblock halign-left valign-top"><p class="tableblock">마지막에 구동된 컨테이너를 표시<td class="tableblock halign-left valign-top"><p class="tableblock">-f, –filter '[key]=[value]'<tr><td class="tableblock halign-left valign-top"><p class="tableblock">목록에 표시할 컨테이너를 필터링<td class="tableblock halign-left valign-top"><p class="tableblock">–format '[key]=[value]'<tr><td class="tableblock halign-left valign-top"><p class="tableblock">폭록에 표시할 포맷을 설정<td class="tableblock halign-left valign-top"><p class="tableblock">–no-trunc=false<tr><td class="tableblock halign-left valign-top"><p class="tableblock">생략된 정보 없이 모두 표시<td class="tableblock halign-left valign-top"><p class="tableblock">-q, –quiet=false<tr><td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 ID만 표시<td class="tableblock halign-left valign-top"><p class="tableblock">-s, –size=false</table><div class="paragraph"><p><strong>result(option key)</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">item<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">CONTAINER ID<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 ID<tr><td class="tableblock halign-left valign-top"><p class="tableblock">IMAGE<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 기반이 된 이미지<tr><td class="tableblock halign-left valign-top"><p class="tableblock">COMMAND<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너에서 실행중인 커맨드<tr><td class="tableblock halign-left valign-top"><p class="tableblock">CREATED<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 생성 후 경과 시간<tr><td class="tableblock halign-left valign-top"><p class="tableblock">STATUS<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 상태(restarting or running or paused or exited)<tr><td class="tableblock halign-left valign-top"><p class="tableblock">PORTS<td class="tableblock halign-left valign-top"><p class="tableblock">할당된 포트<tr><td class="tableblock halign-left valign-top"><p class="tableblock">NAMES<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 명</table><div class="paragraph"><p><strong>format</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">placeholder<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">.ID<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 ID<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.Image<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너의 기반이 된 이미지<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.Command<td class="tableblock halign-left valign-top"><p class="tableblock">실행 커맨드<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.CreatedAt<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너가 생성된 시간<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.RunningFor<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 구동 시간<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.Ports<td class="tableblock halign-left valign-top"><p class="tableblock">할당된 포트<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.Status<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 상태<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.Size<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 디스크 사이즈<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.Labels<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너의 모든 라벨<tr><td class="tableblock halign-left valign-top"><p class="tableblock">.Label<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 라벨</table><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker ps -a --format &quot;table {{.ID}}\t{{.Status}}&quot;</code></pre></div></div></div><div class="sect2"><h3 id="컨테이너_구동_확인docker_stats"><a class="link" href="#컨테이너_구동_확인docker_stats">1.4. 컨테이너 구동 확인(docker stats)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker stats &lt;컨테이너명 또는 ID&gt;</code></pre></div></div><div class="paragraph"><p><strong>result</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">item<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">CONTAINER<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너명 또는 ID<tr><td class="tableblock halign-left valign-top"><p class="tableblock">CPU %<td class="tableblock halign-left valign-top"><p class="tableblock">CPU 사용률<tr><td class="tableblock halign-left valign-top"><p class="tableblock">MEM USAGE/LIMIT<td class="tableblock halign-left valign-top"><p class="tableblock">메모리 사용량/컨테이너에서 사용할 수 있는 메모리 제한<tr><td class="tableblock halign-left valign-top"><p class="tableblock">MEM %<td class="tableblock halign-left valign-top"><p class="tableblock">메모리 사용률<tr><td class="tableblock halign-left valign-top"><p class="tableblock">NET I/O<td class="tableblock halign-left valign-top"><p class="tableblock">네트워크 I/O</table></div><div class="sect2"><h3 id="컨테이너_구동docker_start"><a class="link" href="#컨테이너_구동docker_start">1.5. 컨테이너 구동(docker start)</a></h3><div class="paragraph"><p>중지중인 컨테이너를 구동한다. 컨테이너명 또는 ID를 입력하여 구동한다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker start [option] &lt;컨테이너명 또는 ID&gt;</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-a, –attach=false<td class="tableblock halign-left valign-top"><p class="tableblock">표준 출력, 표준 에러를 연결<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-i, –interactive=false<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 표준 입력을 연결</table></div><div class="sect2"><h3 id="컨테이너_중지docker_stop"><a class="link" href="#컨테이너_중지docker_stop">1.6. 컨테이너 중지(docker stop)</a></h3><div class="paragraph"><p>구동중인 컨테이너를 중지한다. 컨테이너명 또는 ID를 입력하여 중지한다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker stop [option] &lt;컨테이너명 또는 ID&gt;</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-t, –time=10<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 중지 시간을 지정(default: 10)</table></div><div class="sect2"><h3 id="컨테이너_재시작docker_restart"><a class="link" href="#컨테이너_재시작docker_restart">1.7. 컨테이너 재시작(docker restart)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker restart [option] &lt;컨테이너명 또는 ID&gt;</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-t, –time=10<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 재시작 시간을 지정(default: 10)</table></div><div class="sect2"><h3 id="컨테이너_삭제docker_rm"><a class="link" href="#컨테이너_삭제docker_rm">1.8. 컨테이너 삭제(docker rm)</a></h3><div class="paragraph"><p>컨테이너를 삭제한다. 삭제하는 컨테이너는 사용 중지중이어야 한다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker rm [option] &lt;컨테이너명 또는 ID&gt;</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-f, –force=false<td class="tableblock halign-left valign-top"><p class="tableblock">구동 중인 컨테이너를 강제 삭제<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-v –volume=false<td class="tableblock halign-left valign-top"><p class="tableblock">할당된 볼륨을 삭제</table></div><div class="sect2"><h3 id="컨테이너_일시정지_및_재시작docker_pausedocker_unpause"><a class="link" href="#컨테이너_일시정지_및_재시작docker_pausedocker_unpause">1.9. 컨테이너 일시정지 및 재시작(docker pause/docker unpause)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker pause &lt;컨테이너명 또는 ID&gt;
docker unpause &lt;컨테이너명 또는 ID&gt;</code></pre></div></div></div></div></div><div class="sect1"><h2 id="docker_container_usage"><a class="link" href="#docker_container_usage">2. Docker Container Usage</a></h2><div class="sectionbody"><div class="sect2"><h3 id="컨테이너_접속docker_attach"><a class="link" href="#컨테이너_접속docker_attach">2.1. 컨테이너 접속(docker attach)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker attach &lt;컨테이너명 또는 ID&gt;</code></pre></div></div><div class="paragraph"><p><code>Ctrl</code> + <code>P</code>, <code>Ctrl</code> + <code>Q</code>로 종료</div></div><div class="sect2"><h3 id="컨테이너의_프로세스_실행docker_exec"><a class="link" href="#컨테이너의_프로세스_실행docker_exec">2.2. 컨테이너의 프로세스 실행(docker exec)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker exec [option] &lt;컨테이너명 또는 ID&gt; &lt;cmd&gt; [value]</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-d, –detach=false<td class="tableblock halign-left valign-top"><p class="tableblock">커맨드를 백그라운드에서 실행<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-i, –interactive=false<td class="tableblock halign-left valign-top"><p class="tableblock">컨테이너 표준 입력 열기<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-t, –tty=false<td class="tableblock halign-left valign-top"><p class="tableblock">tty(단말디바이스) 사용</table></div><div class="sect2"><h3 id="컨테이너의_프로세스_확인docker_top"><a class="link" href="#컨테이너의_프로세스_확인docker_top">2.3. 컨테이너의 프로세스 확인(docker top)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker top &lt;컨테이너명 또는 ID&gt;</code></pre></div></div></div><div class="sect2"><h3 id="컨테이너의_포트_상태_확인docker_port"><a class="link" href="#컨테이너의_포트_상태_확인docker_port">2.4. 컨테이너의 포트 상태 확인(docker port)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker port &lt;컨테이너명 또는 ID&gt;</code></pre></div></div></div><div class="sect2"><h3 id="컨테이너명_변경docker_rename"><a class="link" href="#컨테이너명_변경docker_rename">2.5. 컨테이너명 변경(docker rename)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker rename &lt;old&gt; &lt;new&gt;</code></pre></div></div></div><div class="sect2"><h3 id="컨테이너_내에서_파일_복사"><a class="link" href="#컨테이너_내에서_파일_복사">2.6. 컨테이너 내에서 파일 복사</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker cp &lt;컨테이너명 또는 ID&gt;:&lt;컨테이너 내의 파일 경로&gt; &lt;호스트 디렉토리 경로&gt;
docker cp &lt;호스트 파일&gt; &lt;컨테이너명 또는 ID&gt;:&lt;컨테이너 내의 파일 경로&gt;</code></pre></div></div></div><div class="sect2"><h3 id="컨테이너_내에서_파일_변경_이력_확인docker_diff"><a class="link" href="#컨테이너_내에서_파일_변경_이력_확인docker_diff">2.7. 컨테이너 내에서 파일 변경 이력 확인(docker diff)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker diff &lt;컨테이너명 또는 ID&gt;</code></pre></div></div><div class="paragraph"><p><strong>구분</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">구분<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">A<td class="tableblock halign-left valign-top"><p class="tableblock">파일 추가<tr><td class="tableblock halign-left valign-top"><p class="tableblock">D<td class="tableblock halign-left valign-top"><p class="tableblock">파일 삭제<tr><td class="tableblock halign-left valign-top"><p class="tableblock">C<td class="tableblock halign-left valign-top"><p class="tableblock">파일 변경</table></div><div class="sect2"><h3 id="docker_version"><a class="link" href="#docker_version">2.8. docker version</a></h3><div class="paragraph"><p>Docker의 버전 확인</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker version</code></pre></div></div></div><div class="sect2"><h3 id="docker_실행_환경_확인docker_info"><a class="link" href="#docker_실행_환경_확인docker_info">2.9. Docker 실행 환경 확인(docker info)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">$ docker info
Containers: 6
 Running: 0
 Paused: 0
 Stopped: 6
Images: 7
Server Version: 1.12.3
Storage Driver: aufs
 Root Dir: /var/lib/docker/aufs
 Backing Filesystem: extfs
 Dirs: 71
 Dirperm1 Supported: true
Logging Driver: json-file
Cgroup Driver: cgroupfs
Plugins:
 Volume: local
 Network: null bridge host overlay
Swarm: inactive
Runtimes: runc
Default Runtime: runc
Security Options: seccomp
Kernel Version: 4.4.27-moby
Operating System: Alpine Linux v3.4
OSType: linux
Architecture: x86_64
CPUs: 2
Total Memory: 1.951 GiB
Name: moby
ID: LRQA:PHWE:COK5:5FCF:7KYP:ZWQ2:346W:PP5A:GMHM:N3WP:AKV4:YYRZ
Docker Root Dir: /var/lib/docker
Debug Mode (client): false
Debug Mode (server): true
 File Descriptors: 16
 Goroutines: 29
 System Time: 2016-12-17T05:47:28.308350112Z
 EventsListeners: 1
No Proxy: *.local, 169.254/16
Registry: https://index.docker.io/v1/
WARNING: No kernel memory limit support
Insecure Registries:
 127.0.0.0/8</code></pre></div></div></div></div></div><div class="sect1"><h2 id="컨테이너에서_이미지_생성"><a class="link" href="#컨테이너에서_이미지_생성">3. 컨테이너에서 이미지 생성</a></h2><div class="sectionbody"><div class="sect2"><h3 id="컨테이너에서_이미지_생성docker_commit"><a class="link" href="#컨테이너에서_이미지_생성docker_commit">3.1. 컨테이너에서 이미지 생성(docker commit)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker commit [option] &lt;컨테이너명 또는 ID&gt; [image][:tag]</code></pre></div></div><div class="paragraph"><p><strong>option</strong></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">option<th class="tableblock halign-left valign-top">description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-a, –author=&quot;"<td class="tableblock halign-left valign-top"><p class="tableblock">생성자 -m, –message="&quot;<tr><td class="tableblock halign-left valign-top"><p class="tableblock">메시지<td class="tableblock halign-left valign-top"><p class="tableblock">-p, –pause=true</table></div><div class="sect2"><h3 id="컨테이너를_tar_파일로_저장docker_export"><a class="link" href="#컨테이너를_tar_파일로_저장docker_export">3.2. 컨테이너를 tar 파일로 저장(docker export)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker export &lt;컨테이너명 또는 ID&gt;</code></pre></div></div></div><div class="sect2"><h3 id="tar_파일에서_이미지_생성docker_import"><a class="link" href="#tar_파일에서_이미지_생성docker_import">3.3. tar 파일에서 이미지 생성(docker import)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker import &lt;파일 또는 URL&gt; - [image][:tag]</code></pre></div></div></div><div class="sect2"><h3 id="이미지_저장docker_save"><a class="link" href="#이미지_저장docker_save">3.4. 이미지 저장(docker save)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker save [option] &lt;file&gt; [image]</code></pre></div></div></div><div class="sect2"><h3 id="이미지로_되돌리기docker_load"><a class="link" href="#이미지로_되돌리기docker_load">3.5. 이미지로 되돌리기(docker load)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker load [option]</code></pre></div></div></div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2016/12/04/dockerbasicusage" class="post" role="article"><h1 class="post-title"> <a href="/2016/12/04/dockerbasicusage/"> Docker 기본 사용법 </a></h1><div class="post-date"> <time datetime="2016-12-04T00:00:00+00:00">2016/12/04/</time> <span>on <a href="/tag/etc/">Etc</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="기본_사용_command"><a class="link" href="#기본_사용_command">1. 기본 사용 Command</a></h2><div class="sectionbody"><div class="sect2"><h3 id="이미지_다운로드docker_pull"><a class="link" href="#이미지_다운로드docker_pull">1.1. 이미지 다운로드(docker pull)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker pull [옵션] &lt;이미지명&gt;[:태그명]</code></pre></div></div><div class="paragraph"><p><strong>Ubuntu Download</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker pull ubuntu</code></pre></div></div><div class="paragraph"><p><code>tag</code>를 붙이지 않으면 자동으로 최신 버전을 다운받는다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker pull registry.hub.docker.com/ubuntu</code></pre></div></div><div class="paragraph"><p>위와 같이 url도 지정할 수 있다.</div></div><div class="sect2"><h3 id="이미지_목록_출력docker_images"><a class="link" href="#이미지_목록_출력docker_images">1.2. 이미지 목록 출력(docker images)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker images [옵션] [repository명]</code></pre></div></div><div class="paragraph"><p><span class="image"><img src="/public/img/docker-basic-usage/docker-images.png" alt="Docker Images"></span></div><div class="paragraph"><p>위와같이 <code>docker images</code> 명령어를 사용해 다운받은 전체 이미지 목록을 출력할 수 있다.</div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">Attribute<th class="tableblock halign-left valign-top">Description<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">REPOSITORY<td class="tableblock halign-left valign-top"><p class="tableblock">Docker 이미지 명<tr><td class="tableblock halign-left valign-top"><p class="tableblock">TAG<td class="tableblock halign-left valign-top"><p class="tableblock">Docker 이미지 태그명<tr><td class="tableblock halign-left valign-top"><p class="tableblock">IMAGE ID<td class="tableblock halign-left valign-top"><p class="tableblock">Docker 이미지 ID<tr><td class="tableblock halign-left valign-top"><p class="tableblock">CREATED<td class="tableblock halign-left valign-top"><p class="tableblock">생성일<tr><td class="tableblock halign-left valign-top"><p class="tableblock">VIRTUAL SIZE<td class="tableblock halign-left valign-top"><p class="tableblock">사이즈</table></div><div class="sect2"><h3 id="이미지_세부_정보_확인docker_inspect"><a class="link" href="#이미지_세부_정보_확인docker_inspect">1.3. 이미지 세부 정보 확인(docker inspect)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker inspect [옵션] &lt;컨테이너 또는 이미지의 이름, ID&gt;</code></pre></div></div><div class="paragraph"><p>Docker 이미지의 세부정보를 확인할 수 있다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">$ docker inspect ubuntu
[
    {
        &quot;Id&quot;: &quot;sha256:4ca3a192ff2a5b7e225e81dc006b6379c10776ed3619757a65608cb72de0a7f6&quot;,
        &quot;RepoTags&quot;: [
            &quot;ubuntu:latest&quot;
        ],
        &quot;RepoDigests&quot;: [
            &quot;ubuntu@sha256:3b64c309deae7ab0f7dbdd42b6b326261ccd6261da5d88396439353162703fb5&quot;
        ],
        &quot;Parent&quot;: &quot;&quot;,
        &quot;Comment&quot;: &quot;&quot;,
        &quot;Created&quot;: &quot;2016-11-29T20:04:37.391061223Z&quot;,
        &quot;Container&quot;: &quot;924f68d3d4b6ae0fe9e35ec75d745b12863d8f0eb3f3d054ca4427a789d72d69&quot;,
        &quot;ContainerConfig&quot;: {
            &quot;Hostname&quot;: &quot;6766fe1c072d&quot;,
            &quot;Domainname&quot;: &quot;&quot;,
            &quot;User&quot;: &quot;&quot;,
            &quot;AttachStdin&quot;: false,
            &quot;AttachStdout&quot;: false,
            &quot;AttachStderr&quot;: false,
            &quot;Tty&quot;: false,
            &quot;OpenStdin&quot;: false,
            &quot;StdinOnce&quot;: false,
            &quot;Env&quot;: [
                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;
            ],
            &quot;Cmd&quot;: [
                &quot;/bin/sh&quot;,
                &quot;-c&quot;,
                &quot;#(nop) &quot;,
                &quot;CMD [\&quot;/bin/bash\&quot;]&quot;
            ],
            &quot;ArgsEscaped&quot;: true,
            &quot;Image&quot;: &quot;sha256:9ab52bdd7c391413c7e0d83b56df4f6a0a6d2f03cb4c609fca1884ab2e63dab4&quot;,
            &quot;Volumes&quot;: null,
            &quot;WorkingDir&quot;: &quot;&quot;,
            &quot;Entrypoint&quot;: null,
            &quot;OnBuild&quot;: null,
            &quot;Labels&quot;: {}
        },
        &quot;DockerVersion&quot;: &quot;1.12.3&quot;,
        &quot;Author&quot;: &quot;&quot;,
        &quot;Config&quot;: {
            &quot;Hostname&quot;: &quot;6766fe1c072d&quot;,
            &quot;Domainname&quot;: &quot;&quot;,
            &quot;User&quot;: &quot;&quot;,
            &quot;AttachStdin&quot;: false,
            &quot;AttachStdout&quot;: false,
            &quot;AttachStderr&quot;: false,
            &quot;Tty&quot;: false,
            &quot;OpenStdin&quot;: false,
            &quot;StdinOnce&quot;: false,
            &quot;Env&quot;: [
                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;
            ],
            &quot;Cmd&quot;: [
                &quot;/bin/bash&quot;
            ],
            &quot;ArgsEscaped&quot;: true,
            &quot;Image&quot;: &quot;sha256:9ab52bdd7c391413c7e0d83b56df4f6a0a6d2f03cb4c609fca1884ab2e63dab4&quot;,
            &quot;Volumes&quot;: null,
            &quot;WorkingDir&quot;: &quot;&quot;,
            &quot;Entrypoint&quot;: null,
            &quot;OnBuild&quot;: null,
            &quot;Labels&quot;: {}
        },
        &quot;Architecture&quot;: &quot;amd64&quot;,
        &quot;Os&quot;: &quot;linux&quot;,
        &quot;Size&quot;: 128206574,
        &quot;VirtualSize&quot;: 128206574,
        &quot;GraphDriver&quot;: {
            &quot;Name&quot;: &quot;aufs&quot;,
            &quot;Data&quot;: null
        },
        &quot;RootFS&quot;: {
            &quot;Type&quot;: &quot;layers&quot;,
            &quot;Layers&quot;: [
                &quot;sha256:d29d52f94ad5aa750bd76d24effaf6aeec487d530e262597763e56065a06ee67&quot;,
                &quot;sha256:dfcc17ddae9e5bab2da074f94856a2a1a42b21e402b49815bb4f87b048082ca5&quot;,
                &quot;sha256:1c53295311c1505bddc4d07d5992434de18243951059ab5ea7b2daf9cec1488a&quot;,
                &quot;sha256:18568efa7ad4beb199f7a9dc211b33fb2b165dcc0966c4c74af3f5ae396f3ec3&quot;,
                &quot;sha256:0d45be5b95d86888d2f6beda0fddb089ba61a3ddc514fdb0a4fd022aad19a392&quot;
            ]
        }
    }
]</code></pre></div></div><div class="paragraph"><p>주요 정보는 다음과 같다.</div><div class="ulist"><ul><li><p>Image ID<li><p>생성일<li><p>Docker version<li><p>Image creator<li><p>CPU</ul></div></div><div class="sect2"><h3 id="이미지_태그_설정docker_tag"><a class="link" href="#이미지_태그_설정docker_tag">1.4. 이미지 태그 설정(docker tag)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker tag &lt;image&gt;[:tag] &lt;docker hub 사용자명&gt;/&lt;image명&gt;[:tag명]</code></pre></div></div><div class="paragraph"><p>Docker Hub에 생성된 이미지를 등록한다. 여기서 <code>docker images</code> 커맨드를 통해서 <code>IMAGE ID</code>가 같음을 확인할 수 있는데, 두 개의 이미지가 이름은 다르나 동일 이미지를 사용한다는 것을 확인 할 수 있다.</div><div class="paragraph"><p><span class="image"><img src="/public/img/docker-basic-usage/docker-tag.png" alt="Docker Tag"></span></div></div><div class="sect2"><h3 id="이미지_검색docker_search"><a class="link" href="#이미지_검색docker_search">1.5. 이미지 검색(docker search)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker search [옵션] &lt;검색 키워드&gt;</code></pre></div></div><div class="paragraph"><p>Docker Hub에 공개된 이미지를 검색할 때 사용되는 커맨드다.</div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">옵션<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">–automated=false<td class="tableblock halign-left valign-top"><p class="tableblock">Automated Build만 표시<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–no-trunc=false<td class="tableblock halign-left valign-top"><p class="tableblock">모든 결과 표시<tr><td class="tableblock halign-left valign-top"><p class="tableblock">-s[–stars=0]<td class="tableblock halign-left valign-top"><p class="tableblock">특정 개수 이상의 별 수</table><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">항목<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">NAME<td class="tableblock halign-left valign-top"><p class="tableblock">Docker Image명<tr><td class="tableblock halign-left valign-top"><p class="tableblock">DESCRIPTION<td class="tableblock halign-left valign-top"><p class="tableblock">Docker Image 설명<tr><td class="tableblock halign-left valign-top"><p class="tableblock">STARS<td class="tableblock halign-left valign-top"><p class="tableblock">해당 이미지가 받은 별 수<tr><td class="tableblock halign-left valign-top"><p class="tableblock">OFFICIAL<td class="tableblock halign-left valign-top"><p class="tableblock">공식 이미지 여부<tr><td class="tableblock halign-left valign-top"><p class="tableblock">AUTOMATED<td class="tableblock halign-left valign-top"><p class="tableblock">Dockerfile을 기반으로 자동 생성된 이미지 여부</table><div class="paragraph"><p><span class="image"><img src="/public/img/docker-basic-usage/docker-search.png" alt="Docker Search"></span></div></div><div class="sect2"><h3 id="이미지_삭제docker_rmi"><a class="link" href="#이미지_삭제docker_rmi">1.6. 이미지 삭제(docker rmi)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker rmi [옵션] &lt;이미지명&gt;</code></pre></div></div><div class="paragraph"><p>Docker Image를 삭제할 때 사용한다. 여러 이미지를 삭제하고자 할 때는 공백으로 여러 이미지명을 구분하여 입력한다.</div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">옵션<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-f, –force=false<td class="tableblock halign-left valign-top"><p class="tableblock">이미지 강제 삭제<tr><td class="tableblock halign-left valign-top"><p class="tableblock">–no-prune=false<td class="tableblock halign-left valign-top"><p class="tableblock">태그가 없는 부모 이미지를 삭제하지 않음</table><div class="paragraph"><p><span class="image"><img src="/public/img/docker-basic-usage/docker-rmi.png" alt="Docker RMI"></span></div></div><div class="sect2"><h3 id="docker_hub에_로그인docker_login"><a class="link" href="#docker_hub에_로그인docker_login">1.7. Docker Hub에 로그인(docker login)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker login [옵션] [서버명]</code></pre></div></div><div class="paragraph"><p>Docker Hub에 업로드 할 때 docker login 커맨드를 사용해 Docker Hub에 로그인 한다. 서버명을 입력하지 않으면 Docker Hub에 액세스한다. 다른 repository로 로그인 할 경우에는 해당 서버명을 입력한다.</div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">옵션<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">-u, –username=&quot;"<td class="tableblock halign-left valign-top"><p class="tableblock">사용자명 -p, –password=""<tr><td class="tableblock halign-left valign-top"><p class="tableblock">패스워드 -e, –email="&quot;<td class="tableblock halign-left valign-top"><p class="tableblock">이메일 주소</table><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">$ docker login
Login with your Docker ID to push and pull images from Docker Hub. If you dont have a Docker ID, head over to https://hub.docker.com to create one.
Username: 사용자명
Password: 패스워드
Login Succeeded</code></pre></div></div></div><div class="sect2"><h3 id="이미지_업로드docker_push"><a class="link" href="#이미지_업로드docker_push">1.8. 이미지 업로드(docker push)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker push &lt;이미지명&gt;[:태그명]</code></pre></div></div><div class="paragraph"><p>Docker Hub에 이미지를 업로드할 때 <code>docker push</code> 커맨드를 사용한다. <code>docker push</code> 커맨드 사용을 위해서는 <code>docker login</code>을 해야한다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">$ docker push nuti0102/ubuntu:1.0
The push refers to a repository [docker.io/nuti0102/ubuntu]
0d45be5b95d8: Mounted from library/ubuntu
18568efa7ad4: Mounted from library/ubuntu
1c53295311c1: Mounted from library/ubuntu
dfcc17ddae9e: Mounted from library/ubuntu
d29d52f94ad5: Mounted from library/ubuntu
1.0: digest: sha256:3b64c309deae7ab0f7dbdd42b6b326261ccd6261da5d88396439353162703fb5 size: 1357</code></pre></div></div><div class="paragraph"><p><span class="image"><img src="/public/img/docker-basic-usage/docker-push.png" alt="Docker Push"></span></div></div><div class="sect2"><h3 id="docker_hub에서_로그아웃docker_logout"><a class="link" href="#docker_hub에서_로그아웃docker_logout">1.9. Docker Hub에서 로그아웃(docker logout)</a></h3><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker logout [서버명]</code></pre></div></div><div class="paragraph"><p>Docker Hub에서 로그아웃할 때 <code>docker logout</code> 커맨드를 사용한다.</div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">$ docker logout
Remove login credentials for https://index.docker.io/v1/</code></pre></div></div></div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><h2 class="sr-only">Pagination</h2><nav class="pagination" role="navigation"><ul><li class="pagination-item older" > <a rel="next" href="/page-6">Older</a><li class="pagination-item newer" > <a rel="prev" href="/page-4">Newer</a></ul></nav></main><div id="_backdrop" class="backdrop"></div><header id="_sidebar" class="sidebar" role="banner"><div id="_asidebar" class="container sidebar-sticky"><div class="sidebar-about"><h1 class="font-accent"><a href="/">Hyeonil's Note</a></h1><p>Hyeonil’s Dev Note</div><nav class="sidebar-nav font-accent" role="navigation"><ul><li> <a class="sidebar-nav-item " href="/tag/all/">All</a><li> <a class="sidebar-nav-item " href="/tag/java/">Java</a><li> <a class="sidebar-nav-item " href="/tag/spring/">Spring</a><li> <a class="sidebar-nav-item " href="/tag/spec/">Specification</a><li> <a class="sidebar-nav-item " href="/tag/architecture/">Architecture</a><li> <a class="sidebar-nav-item " href="/tag/diary/">Diary</a><li> <a class="sidebar-nav-item " href="/tag/etc/">Etc</a><li> <a class="sidebar-nav-item " href="/about/">About</a></ul></nav><div class="sidebar-social"><ul><li> <a href="https://github.com/hyeonil"> <span class="fa fa-github"></span> <span class="sr-only">github</span> </a><li> <a href="https://nuti.tistory.com"> <span class="fa fa-external-link"></span> <span class="sr-only">blog</span> </a></ul></div></div></header><!--[if gt IE 8]><!----> <script>loadJSDeferred('/public/js/hydejack.min.js')</script> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|PT+Serif:400,400italic,700,700italic'.split('|') }, custom: { families: ['icomoon'], urls: ['/public/css/font-awesome.min.css'] }, classes: false, events: false }; </script> <script>loadJSDeferred('https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js')</script> <script> window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga('create', 'UA-88066046-1', 'auto'); ga('send', 'pageview'); </script> <script>loadJSDeferred('https://www.google-analytics.com/analytics.js')</script> <!--<![endif]-->
