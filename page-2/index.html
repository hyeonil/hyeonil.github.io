<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>Blog &middot; Hyeonil's Note</title><!--[if gt IE 8]><!----><style> article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html,body{margin:0;padding:0}html{line-height:1.65}body{color:#515151;background-color:#fff}a{text-decoration:none}img{display:block;max-width:100%;margin:0 0 1rem}img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem);margin-left:calc(-1rem);margin-right:calc(-1rem)}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:600;line-height:1.25;color:#313131;text-rendering:optimizeLegibility}h1{font-size:2rem}h2{margin-top:1rem;font-size:1.5rem}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.25rem;font-weight:300}ul,ol,dl{margin-top:0;margin-bottom:1rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}.container{max-width:38rem;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}.page-title,.post-title{color:#303030}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-.25rem;margin-bottom:1rem;color:#9a9a9a;font-weight:bold}.related{padding-top:2rem;padding-bottom:2rem}.related-posts{padding-left:0;list-style:none}.related-posts>li{margin-top:1rem}.related-posts>li>*{font-weight:normal}.message{margin-bottom:1rem;padding:1rem;color:#717171;background-color:#f9f9f9;margin-left:-1rem;margin-right:-1rem}body{padding-left:0.5rem}@media (min-width: 48em){html{font-size:16px}body{padding-left:0}}@media (min-width: 58em){html{font-size:18px}}.sr-only{display:none}.backdrop{display:none}.sidebar{position:relative;z-index:4;padding:2rem 1rem;color:rgba(255,255,255,0.75);background-color:#202020;text-align:left;background-size:cover;background-position:center center;min-height:640px;min-height:100vh;margin-left:-0.5rem}.sidebar a{color:#fff}.sidebar ul{list-style:none;padding-left:0}.sidebar-sticky{position:absolute;right:1rem;bottom:1rem;left:1rem}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav-item{font-weight:bold;display:block;line-height:1.75;padding:.25rem .1rem;border-top:1px solid rgba(255,255,255,0.23)}.sidebar-social>ul{min-height:3.5rem}.sidebar::before{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(32,32,32,0.33);background:-moz-linear-gradient(bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%);background:-webkit-linear-gradient(bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%);background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}@media (min-width: 48em){.sidebar{position:fixed;top:0;left:0;bottom:0;width:18rem;margin-left:0}}.menu{display:block;padding:1.25rem 1.5rem;color:#9a9a9a;border-bottom:none;position:fixed;top:0;left:0;z-index:2}@media (min-width: 48em){.menu{position:absolute;left:-9999px}}@media (min-width: 48em){.menu:focus{left:19.5rem}}@media (min-width: 64em){.menu:focus{left:21.5rem}}.content{padding-top:4rem;padding-bottom:4rem}@media (min-width: 48em){.content{max-width:38rem;margin-left:20rem;margin-right:2rem;border-left:none}}@media (min-width: 64em){.content{margin-left:22rem;margin-right:4rem}}.me{float:right;width:6.5rem;margin-top:-4.8rem;margin-left:1rem;border-radius:100%;position:relative}@media (min-width: 38em){.me{width:7rem;margin-top:-5.05rem}}@media (min-width: 48em){.me{width:6.5rem;margin-top:-4.8rem}}@media (min-width: 58em){.me{width:7rem;margin-top:-5.05rem}}</style><noscript><link rel="stylesheet" href="/public/css/non-essentials.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|PT+Serif:400,400italic,700,700italic"> </noscript><link rel="preload" href="/public/css/non-essentials.css" as="style" onload="this.rel='stylesheet'"><style> html { font-family: "PT Serif", Georgia, serif; } :focus { outline-color: #A85641; } .font-accent { font-family: "Roboto Slab", "PT Serif", Georgia, serif; } .content a, .related-posts li a:hover { color: #A85641; } ::selection { color: #fff; background: #A85641; } ::-moz-selection { color: #fff; background: #A85641; } .sidebar { background-image: url('/public/img/side.jpg'); }</style><!--<![endif]--><link rel="canonical" href="https://blog.nuti.pe.kr/page-2/" /><link rel="alternate" type="application/atom+xml" title="Hyeonil's Note Atom Feed" href="/atom.xml"><link rel="stylesheet" href="/public/css/asciidoctor.css"><link rel="stylesheet" href="/public/css/coderay.css"><link rel="stylesheet" href="/public/css/font-awesome.min.css"><link rel="stylesheet" href="/public/css/foundation.min.css"><link rel="stylesheet" href="/public/css/normalize.css"><link rel="stylesheet" href="/public/css/custom.css"> <script>!function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n.isReady=!1,n.loadJSDeferred=function(a,r){function d(){n.isReady=!0;var d=e.createElement("script");d.src=a,r&&(("onload"in d?t:o)(d,r),d.onload||t(d,r));var i=e.getElementsByTagName("script")[0];i.parentNode.insertBefore(d,i)}n.isReady?d():n.addEventListener?n.addEventListener("load",d,!1):n.attachEvent?n.attachEvent("onload",d):n.onload=d}}(window,document); </script> <!--[if lt IE 9]> <script src="https://unpkg.com/html5shiv/dist/html5shiv.min.js"></script> <![endif]--><body> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu" href="#_asidebar"> <span>☰</span> <span class="sr-only">Menu</span> </a><main class="content container" role="main"><article id="post-2019/04/28/spring-camp-2019" class="post" role="article"><h1 class="post-title"> <a href="/2019/04/28/spring-camp-2019/"> SpringCamp 2019 참석 후기 </a></h1><div class="post-date"> <time datetime="2019-04-28T00:00:00+00:00">2019/04/28/</time> <span>on <a href="/tag/etc/">Etc</a><span>, </span><a href="/tag/java/">Java</a><span>, </span><a href="/tag/spring/">Spring</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="Intro"><a class="link" href="#Intro">1. Intro</a></h2><div class="sectionbody"><div class="paragraph"><p>SpringCamp는 2016년, 2017년 그리고 그 이후 2년만에 참석하는 것이다. 총 세 번 참석을 했는데, 지난번에 참석했을 때 모두 기억이 좋게 남아있어서 또 참석하게 되었다. 사실 작년에도 참석을 하고있었지만&#8230;&#8203; 티켓 판매사이트에서 티켓 판매 오픈을 이상하게 하는 바람에 멍떄리다가 티켓팅에 실패했다. 올해는 2번으로 나눠서 티켓판매를 했는데, 첫 날 작년처럼 멍때리다 실패하고, 두 번째 날 겨우 티켓팅에 성공했다.</div><div class="paragraph"><p>올해는 주로 코틀린과 모니터링에 대한 세션이 많았고, 개발 경험에 대해서 공유하는 세션들도 있었다. 코틀린은 아니지만 DSL을 사용하고 있는 입장에서 DSL을 명세를 작성하거나 스크립트를 작성하는 것이 아닌 비즈니스 애플리케이션을 구현하는데 사용한다는 것에 대해 회의적인 생각을 가지고 있어서 코틀린에는 큰 관심이 없기 떄문에 코틀린과 관련된 세션은 듣지 않고 다른 세션 위주로 참석을 했다. 참석한 세션의 내용 대부분이 만족스러웠고, 내가 가진 경험이나 생각과 비교를 하면서 들을 수 있어서 만족스러웠다. 또한, 스프링의 기능이나 모듈등에 대해서 새로 알게된 것들이 있어서 좋았다.</div><div class="paragraph"><p>참석한 세션은 아래와 같고, 하루가 지났다고 기억이 자세히나지 않는 부분이 많지만 기억나는 내용 및 요약한 내용을 정리한다.</div><div class="ulist"><ul><li><p>실전에 써먹는 스프링 부트 (김지헌님)<li><p>Monitoring With Actuator (서경원님)<li><p>자바에서 null을 안전히 다루는 방법 (박성철님)<li><p>무엇을 테스트할 것인가? 어떻게 테스트할 것인가? (권용근님)<li><p>당신도 할 수 있는 레거시 프로젝트 개선 이야기 (이경일님)</ul></div><div style="page-break-after: always;"></div></div></div><div class="sect1"><h2 id="spring-boot"><a class="link" href="#spring-boot">2. 실전에 써먹는 스프링 부트 (김지헌님)</a></h2><div class="sectionbody"><div class="paragraph"><p>업무에서 스프링 부트를 사용하고 있지는 않지만 개인적으로 공부를 조금씩이나마 하고 있고, 좀 더 알고 싶어서 세션에 참석했다.</div><div class="sect2"><h3 id="스프링부트"><a class="link" href="#스프링부트">2.1. 스프링부트</a></h3><div class="ulist"><ul><li><p>Netflix도 자바와 관련된 시스템은 모두 스프링 부트로 전환했다.<li><p><code>Spring Boot</code> - <code>Spring Cloud</code> - <code>Spring Cloud Data Flow</code>(<a href="https://spring.io" class="bare">https://spring.io</a> 에 있는 세가지인데 무엇을 설명했는지 기억이 안난다&#8230;&#8203;ㅠㅠ)<li><p>개발자가 손쉽게 부트앱을 만들 수 있다고 스프링에서 홍보중이다.</ul></div><div class="paragraph"><p><code>Spring Boot</code>는 <code>Spring Framework</code>를 기반으로한 개발 플랫폼으로 <code>Spring Boot Starter</code>, <code>Spring Framework</code>, <code>Build Tool(Gradle, Maven)</code>으로 구성되어 있다.</div></div><div class="sect2"><h3 id="gradle"><a class="link" href="#gradle">2.2. Gradle</a></h3><div class="paragraph"><p><code>Gradle</code>은 <code>Kotlin DSL</code>과 <code>Groovy DSL</code>이 있다.</div><div class="ulist"><div class="title">Kotlin DSL의 장점</div><ul><li><p>빠른 문서보기<li><p>코드 자동완성<li><p>에러 강조표시<li><p>코드 리팩토링</ul></div><div class="ulist"><div class="title">Spring Boot Gradle Plugin</div><ul><li><p>의존성 관리<li><p>실행가능한 아카이브 패키징<li><p>애플리케이션 배포<li><p>애플리케이션 실행<li><p>Actuator 지원</ul></div></div><div class="sect2"><h3 id="bombill_of_material"><a class="link" href="#bombill_of_material">2.3. BOM(Bill of Material)</a></h3><div class="ulist"><ul><li><p><code>BOM</code>으로 인해 버전을 명시적으로 작성하지않아도 된다.(호환 버전을 자동으로 import)<li><p><code>spring-boot-dependencies</code> 모듈이 의존성 관리를 한다.<li><p><code>enforce platform</code>으로 다른 <code>BOM</code> 파일 가져올 수 있다.</ul></div></div><div class="sect2"><h3 id="code"><a class="link" href="#code">2.4. Code</a></h3><div class="paragraph"><p><code>@Profile</code> 어노테이션으로 프로파일에 따라 다른 빈 설정 및 주입을 할 수 있다.</div><div class="ulist"><div class="title">스프링 부트 자동구성(AutoConfiguration)</div><ul><li><p><code>@Configuration</code><li><p><code>@Conditional~~</code></ul></div><div class="ulist"><div class="title">애플리케이션 속성을 실행시점에 외부에서 변경한다.</div><ul><li><p>실행 시점에 실행 파라미터(?)로 주입<li><p><code>@ConfigurationProperties</code><li><p>무슨 json 을 만들어냄</ul></div><div class="listingblock"><div class="title">ConfigurationProperties Example</div><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Component</span>
<span class="annotation">@ConfigurationProperties</span>(prefix = <span class="string"><span class="delimiter">&quot;</span><span class="content">example.tt</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleProperties</span> {
  <span class="predefined-type">String</span> name;
  <span class="predefined-type">String</span> key;
}</code></pre></div></div></div><div class="sect2"><h3 id="후기"><a class="link" href="#후기">2.5. 후기</a></h3><div class="paragraph"><p>스프링 부트를 공부용으로 하는 작은 토이 프로젝트에서는 사용하고있다. 하지만 공부를 하는 것과 실무를 하는 것에는 차이가 있기 떄문에 공부를 하면서 알지 못한 처음보는 기능들을 알게되어서 좋았다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="monitoring-with-actuator"><a class="link" href="#monitoring-with-actuator">3. Monitoring With Actuator (서경원님)</a></h2><div class="sectionbody"><div class="paragraph"><p>두번째 세션은 부종민님의 <code>websocket</code> 세션과 고민을 많이 하다가 밝히기 어려운 이유로 서경원님의 세션에 참석했다.</div><div class="sect2"><h3 id="why_how_monitoring"><a class="link" href="#why_how_monitoring">3.1. Why &amp; How Monitoring</a></h3><div class="ulist"><ul><li><p>장애 예방, 원인 파악, 조치<li><p>변경에 대한 상태 확인<li><p>성능 개선<li><p>장기적인 서비스 상태 분석<li><p>지표가 필요하다</ul></div><div class="paragraph"><p>모니터링을 하는데 지표를 어디서 어떻게 획득할 것인가?</div></div><div class="sect2"><h3 id="nhn_모니터링_시스템"><a class="link" href="#nhn_모니터링_시스템">3.2. NHN 모니터링 시스템</a></h3><div class="ulist"><ul><li><p>서버 인프라 지표 수집<li><p>애플리케이션 지표 수집<li><p>모니터링 차트 제공<li><p>지표 감시 및 알림</ul></div></div><div class="sect2"><h3 id="spring_boot_actuator"><a class="link" href="#spring_boot_actuator">3.3. Spring Boot Actuator</a></h3><div class="ulist"><ul><li><p>Spring Boot 애플리케이션 모니터링<li><p>제어 도구 제공 - <code>endpoints</code><li><p>애플리케이션 지표 제공 - <code>metrics</code><li><p><code>dependency</code> 추가하면 <code>AutoConfiguration</code>에 의해서 자동으로 등록한다.<li><p>여러 종류의 <code>endpoints</code> 를 제공한다.<li><p>사용할 <code>endpoints</code>를 설정을 통해서 제어 가능 및 외부 노출 설정이 가능하다.<li><p><code>enabled-by-default=false</code>로 해서 기본 사용 옵션을 끌 수 있다.<li><p><code>spring-security</code>로 endpoint 권한 설정 가능하다.</ul></div></div><div class="sect2"><h3 id="metrics_endpoint"><a class="link" href="#metrics_endpoint">3.4. Metrics Endpoint</a></h3><div class="paragraph"><p><code>jvm</code>, <code>jdbc</code>, <code>web</code>, <code>library</code> 등 여러가지 <code>metrics</code> 제공한다.</div><div class="paragraph"><p><code>Boot1</code>에서 <strong>계층형</strong>이었지만 2에서 <strong><code>Dimension</code>구조</strong>로 변경(Tag를 붙입)</div><div class="ulist"><div class="title">Dimension구조 장점</div><ul><li><p>이해하기 쉬움<li><p>여러 관점에서 지표 분석 가능<li><p>유연함 손쉬운 Tag 추가/삭제</ul></div><div class="ulist"><div class="title">RED Method - 반드시 측정해야하는 metrics</div><ul><li><p>Request Rate<li><p>Request Errors<li><p>Request Duration</ul></div><div class="paragraph"><p>Hystrix - Circuit Breaker 장애 내성 / 지연 내성</div></div><div class="sect2"><h3 id="micrometer"><a class="link" href="#micrometer">3.5. Micrometer</a></h3><div class="ulist"><div class="title">설정밥법</div><ul><li><p>dependency 추가 - AutoConfiguration<li><p>prometheus endpoint 추가</ul></div></div><div class="sect2"><h3 id="후기_2"><a class="link" href="#후기_2">3.6. 후기</a></h3><div class="paragraph"><p>컨디션이 좋지 않아 많이 졸으면서 들었는데 <code>Actuator</code>라는 모듈을 통해서 모니터링을 할 수 있고, 지표를 볼 수 있다는 새로운 사실을 알게되어 좋았다. 여러 서버를 돌린다면 <code>actuator</code>를 통해서 서버에서 지표를 제공하고, 그 지표를 수집하는 저장소와 가시화할 수 있는 방법이 추가로 필요할 텐데 이에 맞춰서 인프라를 구축한다면 좋겠다는 생각을 했다. 다만, 전사적인 인프라를 구축하는데 사용하는데는 약간 무리가 있지 않을까 라는 생각을 하게 되었는데, 다른 한 편으로는 잘 알지는 못하지만 전사적으로 사용하는데 무리가 없으니 사용하고 있겠지 라고 생각했다. 또한, <code>actuator</code>에서 가시화하는 일부 환경(?)에 맞춰서 효율적으로 데이터를 전달해준다는 정보는 정말 좋은 팁이였던 것 같다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="handle-null"><a class="link" href="#handle-null">4. 자바에서 null을 안전히 다루는 방법 (박성철님)</a></h2><div class="sectionbody"><div class="paragraph"><p>자바개발자라면 모두 궁금해할 만한 주제였다고 생각한다. 개발을 하는 과정에서 <code>null</code>체크를 한다고 했지만 발생하는 <code>NullPointerException</code>. 자바개발자가 가장 흔히 볼 수 있는 <code>Exception</code>이고, 고민을 많이 하는 부분이라고 생각한다. 많은 개발자들에게 고통을 주는 <code>null</code>을 안전하게 다루는 방법이라 하여 흥미가 생겨 이 세션을 듣게 되었다.</div><div class="sect2"><h3 id="null에_대해서"><a class="link" href="#null에_대해서">4.1. null에 대해서</a></h3><div class="ulist"><div class="title">JVM 언어 전쟁</div><ul><li><p>2000년대 중반 동적 티이핑/스크립팅 언어가 유행<li><p>2010년 전후 함수형 프로그래밍<li><p>2010년대 중반 null 안정성(실론, 코들린)</ul></div><div class="ulist"><div class="title">null 참조</div><ul><li><p>레코드 핸들링: 객체지향의 시초가 된 논문<li><p>특별한 값이 없음을 나타내려고 null을 도입했고 이 값을 사용하려고 할 때 오류를 내도록 설계<li><p>두 참조값이 null 일 때 두 참조는 동일하다고 판단</ul></div><div class="ulist"><div class="title">자바의 null 참조</div><ul><li><p>의미가 모호함<li><p>초기화되지 않음, 정의되지 않음, 값이 없음, null 값<li><p>모든 참조의 기본 상태(값?)<li><p>모든 참조는 null 가능</ul></div></div><div class="sect2"><h3 id="null을_안전하게_다루는_방법"><a class="link" href="#null을_안전하게_다루는_방법">4.2. null을 안전하게 다루는 방법</a></h3><div class="ulist"><div class="title">자바 기본 장치</div><ul><li><p>단정문(assertion)<div class="ulist"><ul><li><p>공개 메서드에서 사용하지 않아야 함<li><p>소비자이면서 생산자일 때 만 사용<li><p>enableassertions 또는 -ea 옵션으로 활성화</ul></div><li><p>java.util.Objects<div class="ulist"><ul><li><p>null을 핸들링할 수 있는 메소드들이 추가</ul></div><li><p>java.util.Optional<div class="ulist"><ul><li><p>변수와 반환값에 null을 사용하지 말라<li><p>Optional에 값이 있다가 확신하지 않는 한 get을 사용하지 말라<li><p>isPresent나 get은 가능한 사용하지 말라<li><p>필드 매개변수등으로는 사용하지 말라<div class="ulist"><ul><li><p>직렬화 불가</ul></div><li><p>반환값은 사용해도 된다</ul></div></ul></div><div class="ulist"><div class="title">null 잘 쓰는 법</div><ul><li><p>API에 최대한 쓰지 말아라<div class="ulist"><ul><li><p>null로 지나치게 유연한 메서드를 만들지 말고 명시적인 메서드를 만들어라<li><p>null을 반환하지 말라<li><p>반환 값이 꼭 있어야 한다면 null을 반환하지 말고 예외를 던져라<li><p>빈 반환값은 Null 객체</ul></div><li><p>사전조건과 사후조건을 확인하라: 계약에 의한 설계<div class="ulist"><ul><li><p>Design by Contract<li><p>(개인적으로 좀 더 공부가 필요할 것 같음)</ul></div><li><p>null의 범위를 지역(클래스 메서드)화</ul></div></div><div class="sect2"><h3 id="후기_3"><a class="link" href="#후기_3">4.3. 후기</a></h3><div class="paragraph"><p>발표자 분께서 <code>null</code>을 다루는 몇가지 방법에 대해서 공유를 해주셨고, 주의할 점에 대해서 공유를 해주셨는데 누군가 알려주지 않았지만 느낌적인 느낌으로 발표내용처럼 하고있던 부분들이 있어서 숙제검사를 받은 느낌이라 좋았고, 주의해야될 부분들이 정말 꿀팁이였던 것 같다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="testing"><a class="link" href="#testing">5. 무엇을 테스트할 것인가? 어떻게 테스트할 것인가? (권용근님)</a></h2><div class="sectionbody"><div class="paragraph"><p>평소에 테스트에 대해서 많은 관심을 가지고 있기 때문에 꼭 듣고싶었던 세션이다. 세션을 들어가기 전부터 기대를 많이 했고 내용이 궁금했다. 결론적으로는 이번 SpringCamp에서 가장 만족한 세션이었다.</div><div class="sect2"><h3 id="테스트로부터_얻을_수_있는것"><a class="link" href="#테스트로부터_얻을_수_있는것">5.1. 테스트로부터 얻을 수 있는것</a></h3><div class="paragraph"><p>안정감과 자신감이 생긴다</div></div><div class="sect2"><h3 id="무엇을_테스트할_것인가"><a class="link" href="#무엇을_테스트할_것인가">5.2. 무엇을 테스트할 것인가?</a></h3><div class="ulist"><ul><li><p>비즈니스 요구사항 정리<li><p>구현 vs 설계<li><p>구현은 언젠가 변할 수 있고 테스트는 구현에서 무엇을 하는지 알 수 없고 알 필요도 없다</ul></div><div class="ulist"><div class="title">테스트 불가능한 것</div><ul><li><p>외부 요청<li><p>외부 저장소</ul></div></div><div class="sect2"><h3 id="어떻게_테스트할_것인가"><a class="link" href="#어떻게_테스트할_것인가">5.3. 어떻게 테스트할 것인가?</a></h3><div class="ulist"><ul><li><p>테스트할 수 없는 것을 바운더리 레이어까지 올려서 피해를 최소화한다<li><p>제어할 수 없는 영역을 파라미터로 받을 수 있는지 검토한다<li><p>비즈니스 요구사항 및 설계가 변경될 수 있다</ul></div><div class="ulist"><div class="title">Java, Spring Framework</div><ul><li><p>테스트를 할 때 <code>Spring Context</code>가 굳이 필요하지 않다<li><p>테스트를 할 때 비즈니스 프레임워크에 의존하지 말라</ul></div><div class="ulist"><div class="title">Test Double</div><ul><li><p>무엇을 <code>Test Double</code>로 처리?<li><p>테스트가 구현을 알아야 함? &#8658; 알 필요 없다<li><p>제어할 수 없는 영역을 <code>Test Double</code>로 처리</ul></div><div class="ulist"><div class="title">Embedded</div><ul><li><p>스프링에 내장된 시스템을 최대한 활용(ex. H2)</ul></div></div><div class="sect2"><h3 id="tip_rule"><a class="link" href="#tip_rule">5.4. Tip &amp; Rule</a></h3><div class="ulist"><ul><li><p>테스트는 상호 독립적이어야 한다.(데이터간 의존성이 있어서는 안된다)<li><p>테스트안에 의도가 드러날 수 있도록 해라<li><p>테스트코드도 리팩토링 대상이다</ul></div></div><div class="sect2"><h3 id="후기_4"><a class="link" href="#후기_4">5.5. 후기</a></h3><div class="paragraph"><p>앞서 언급했지만 평소에 테스트에 대해서 많은 관심을 가지고 있어서 가장 기대를 했고 주의깊게 들은 세션이다. 전체적으로 나와 비슷한 생각의 내용으로 발표를 하셔서 방향을 잘 잡아가고 있구나 라고 검사를 받은 느낌이 들어서 기분이 좋았다. 다만 <code>Test Double</code> 대상을 선git 정하는 부분에 대해서는 생각이 다른 부분이 있었다. 몇몇 이유때문에 테스트에서는 구현에서 어떤 행위를 하는지 알 수 있고 알아야 한다고 생각한다. 잘 못된 생각을 하고있을 수도 있지만 결론적으로 생각이 바뀌진 않았다. 생각이 바뀌진 않았지만 다른 사람의 생각을 듣고 고민을 하고 다시 생각해볼 수 있는 계기가 되어 좋았다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="improvement-legacy"><a class="link" href="#improvement-legacy">6. 당신도 할 수 있는 레거시 프로젝트 개선 이야기 (이경일님)</a></h2><div class="sectionbody"><div class="paragraph"><p>누구나 경험해본, 경험하고 있는, 경험할 예정인 레거시 프로젝트를 개선한 경험을 공유하는 세션이여서 매우 흥미로운 주제이고 궁금해서 세션을 들었다.</div><div class="sect2"><h3 id="레거시_코드란"><a class="link" href="#레거시_코드란">6.1. 레거시 코드란?</a></h3><div class="ulist"><ul><li><p>막막한 코드?<li><p>복잡한 코드?<li><p>남(주로 퇴사자)이 짠 코드?<li><p>테스트코드로 커버되지 않으며 유지보수가 되고있지 않은 코드<li><p>방치되고있는 코드<li><p>오랜 시간 안정적으로 돌아가는 코드</ul></div></div><div class="sect2"><h3 id="레거시_코드를_외면하는_이유"><a class="link" href="#레거시_코드를_외면하는_이유">6.2. 레거시 코드를 외면하는 이유?</a></h3><div class="ulist"><ul><li><p>다른사람이 짠 코드는 수정하기 싫다<li><p>신규프로젝트가 재미있다<li><p>조직에서 인정받기 어렵다(ex. 평가가 좋지 않다&#8230;&#8203;)</ul></div></div><div class="sect2"><h3 id="레거시_코드_개선"><a class="link" href="#레거시_코드_개선">6.3. 레거시 코드 개선</a></h3><div class="ulist"><ul><li><p>DDD? MSA?<div class="ulist"><ul><li><p>하면 좋긴 하다&#8230;&#8203;</ul></div></ul></div><div class="ulist"><div class="title">내편으로 만들기</div><ul><li><p>왜 이렇게만들었어 지만 잘 동작은 하고 있음&#8230;&#8203;<li><p>로직 파악하기<li><p>직접 돌려보면서 파악하는 것이 중요<li><p>테스트 케이스를 봐야함<div class="ulist"><ul><li><p>하지만 테스트케이스가 없을수도 있다</ul></div></ul></div><div class="ulist"><div class="title">급한불부터 끄기</div><ul><li><p>코드 리팩토링<li><p>리팩토링 대상 우선순위 정하기<li><p>불필요하거나 수정하기 어려운(? 유지보수하기 어려운?) 것은 과감하게 삭제</ul></div><div class="ulist"><div class="title">한걸음씩 가기</div><ul><li><p>코드 패키지 분리<li><p>분리가 용이하도록 설계 변경<li><p>코드를 분리할 수 있는 부분은 분리<li><p>개선을 하면서 코드 단위가 커지면 또 분리</ul></div><div class="ulist"><div class="title">아픈 곳 고치기</div><ul><li><p>리소스 사용량이 많은 부분은 추출<li><p>로컬 캐시를 사용할 수 있는 부분은 로컬캐시를 사용<li><p>Memory Leak이 있는지 검토(?)<li><p>Matcher_AppendReplacement &#8658; 메모리 효율이 좋음<li><p>OOM Killer가 죽일 떄가 있는데 이런 경우 로그를 확인해서 왜 죽였는지 파악<li><p>v.v2.2 이상이 아니면 쓰지 않는것이&#8230;&#8203;(안정화가 안됐을 가능성이 높다)</ul></div><div class="ulist"><div class="title">조금 더 다듬기</div><ul><li><p>RAM Drive를 사용할 수 있는가?<li><p>Spring Cloud Config<div class="ulist"><ul><li><p>설정을 Cloud로 관리해서 배포 없이 설정 변경<li><p><code>basedir</code>이 <code>/tmp/</code> 밑에 들어가서 삭제될 수 있기 때문에 <code>basedir</code> 수정하는것이 좋음</ul></div><li><p>GC 튜닝 포인트 확인</ul></div></div><div class="sect2"><h3 id="후기_5"><a class="link" href="#후기_5">6.4. 후기</a></h3><div class="paragraph"><p>이경일님의 세션은 레거시 코드를 개선해나간 과정에서 경험한 내용을 공유해주셨다. 세션을 들으면서 레거시 코드를 개선할 때 살펴봐야할 부분들과 주의할 부분 그리고 개선하는 순서 및 개선방법에 대해 생각을 해보게 되었고, 이후에 레거시를 개선한다면 많은 도움이 될 것 같다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="postscript"><a class="link" href="#postscript">7. 후기</a></h2><div class="sectionbody"><div class="paragraph"><p>전체적으로 참석한 세션이 모두 만족스러웠지만 특히 권용근님의 <strong>"무엇을 테스트할 것인가? 어떻게 테스트할 것인가?"</strong>와 이경일님의 <strong>"당신도 할 수 있는 레거시 프로젝트 개선 이야기"</strong> 세션이 정말 재미있었다. 이 중에도 권용근님의 세션이 정말 좋았는데, 앞서 작성한 후기 내용처럼 내가 생각하는 부분과 유사해서 '방향을 잘 잡아가고 있구나' 라고 생각을 할 수 있었고, 발표 내용중에 내가 생각하는 부분과 다른 부분에서는 '저렇게 할 수도 있구나, 저렇게 해서 얻는 이점이 뭐지?'라고 비교 및 고민을 해볼 수 있게되어 좋았다.</div><div class="paragraph"><p><strong>멀티리전 가용성을 위한 글로벌 캐싱 - Hidden micro services (정윤진님, 김필중님)</strong>, <strong>Local Cache와 Invalidation Message Propagation 전략을 활용하여 API 성능 튜닝하기 (김민규님)</strong> 이 두 세션도 듣고 싶었지만 컨디션이 좋지 않아 일찍 귀가를 해서 듣지 못해 조금 아쉬운 부분이 남았다.</div><div class="paragraph"><p>최근에 조금 많이 안일해져서 이전처럼 공부를 많이 하고 있지 않았는데, 이번에 SpringCamp에 참석해서 나에게 다시 자극을 줄 수 있는 계기기 되었고 이로 인해 정말 참석을 잘 했다 라는 생각을 한다. 이번 행사에서 아쉬운 부분이 조금은 있었지만 SpringCamp는 참석할 때 마다 매우 만족하고 있고, 다음 SpringCamp도 벌써 기대가 된다.</div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2019/02/17/specification" class="post" role="article"><h1 class="post-title"> <a href="/2019/02/17/specification/"> 기능 요구사항 명세(Specification) </a></h1><div class="post-date"> <time datetime="2019-02-17T00:00:00+00:00">2019/02/17/</time> <span>on <a href="/tag/spec/">Specification</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="intro"><a class="link" href="#intro">1. Intro</a></h2><div class="sectionbody"><div class="paragraph"><p>개발 경력이 많지는 않지만 백엔드 개발을 하며 느낀 분석, 설계, 문서화에 대해 기술한 포스트입니다. 의식의 흐름대로 작성한 내용이라 부족한 부분이 많을 수 있는데 잘 못된 내용이나 수정되어야하거나 추가되어야 할 내용이 있다면 글을 읽고 지적 부탁드리고, 문의를 남겨주시면 최대한 답변드리도록 하겠습니다.</div><div class="paragraph"><p>인간은 망각의 동물이다. 본인이 개발을 하더라도 시간이 지난다면 왜 그런식으로 개발을 했는지 잊어버리는 경우가 많다. 본인의 개발을 한 내용에 대해서도 그런데 다른사람이 개발한 내용은 어떠할까? 그 사람이 개발한 내용을 알기 위해 개발한 당사자를 찾아가서 왜 그런식으로 개발했는지, 어떤 이유가 있어서 이런 행위를 하는지 히스토리 확인을 해야된다. 이것도 그 사람과 알고있다는 가정하에 아주 좋은 케이스다. 다른사람에게 물어봤더니 그 사람도 왜 그렇게 했는지 기억해는데 한참이 걸리고, 개발한 당사자에게 물어볼 수 없는 상황이 많다. 이러한 이유때문에 기능개발을 할 때는 그 기능이 어떤 행위를 하는지에 대해 문서로 남겨놔야하고, 그 문서를 통해 본인 혹은 다른 사람들이 그 기능이 어떤 행위를 하는지 알 수 있게 해야한다.</div><div class="paragraph"><p>또한, 기능에 대한 문서를 작성하다 보면 그 기능이 해야하는 행위가 더욱 명확해지는 경우가 많다. 기능의 행위가 명확해지면 개발범위에 대해서 파악하는 것이 좀 더 수월해지고, 어떤식으로 개발을 할 지에 대한 설계가 가능해진다. 개발의 설계가 된다는 것은 기능 분리 및 관심사 분리가 가능해지는 것이고, 이는 이러한 과정을 거치지 않은 코드보다 뛰어난 품질의 코드를 작성하는데 도움이 된다.</div><div class="paragraph"><p>물론 본인의 기억력에 대해서 엄청난 자신감을 가지고 있고, 다른 사람에게 그 기능이 무슨 행위를 하는지 전달할 필요나 생각이 없는 경우, 문서를 작성하지 않아도 머리속에서 설계가 가능하다면 문서를 작성할 필요는 없다.</div><div class="paragraph"><p>이번 포스트에서는 웹 프로그램의 백엔드 기능을 개발하는 과정에서 기능을 분석하고 이를 문서로 남기는 방법에 대해 작성을 한다.</div></div></div><div class="sect1"><h2 id="기능_분석_및_설계"><a class="link" href="#기능_분석_및_설계">2. 기능 분석 및 설계</a></h2><div class="sectionbody"><div class="paragraph"><p>개발을 진행하면서 개발하는 기능에 대해서 분석행위를 하지 않는 사람은 없을 것이다. 분석행위를 하지 않는다는 것은 본인이 무엇을 개발하는지도 모르고 기계처럼 다른 사람의 지시에 의해서 타이핑을 하는것이지 개발을 하는것이 아니다.</div><div class="paragraph"><p>기획자가 따로 있어서 화면설계서를 보면서 기능개발을 한다고 가정을 해보겠다. 화면에서 어떤 버튼을 클릭하면 어떤 조건에 대해서 검사를 하고, 조건이 만족되면 어떤 결과가 도출된다는 것이 정의되어 있을 것이다. 이때 백엔드를 개발할때는 화면에 대한 생각을 없애야 한다. <strong>화면에서 발생하는 하나의 트리거에 의해서 백엔드에서는 두가지, 세가지 이상의 기능이 실행될 수 있다.</strong> 그렇기 때문에 화면을 참고해서 우선 기능분리를 해야된다. 앞의 예를 조금 더 자세하게 해서 사용자가 회원가입을 하기 위해 정보를 입력하고 가입 버튼을 눌렀을 때 아이디 중복검사, 비밀번호 정합성 검사를 거친 뒤 이를 만족하면 회원정보를 저장하고, 저장된 정보를 반환하는 기능을 개발해야된다고 가정을 하겠다. 기능 분석을 하지 않고 그저 화면설계서에 정의된 내용대로 가입 버튼을 눌렀으니 하나의 메소드에서 화면설계서에서 정의된 내용을 모두 하도록 개발을 한다고 가정을 해보겠다. 화면에서 하나의 트리거에 의해 발생했으니 하나로 묶어서 개발을 해서 결과값을 반환하게 된다면 처음 개발은 편할 것이다. 또한 코드가 한곳에 있으니 코드를 추적하기 쉬워보이기도 한다. 하지만 기능이 확장되거나 재사용되는 경우를 생각해보면 분리해서 개발하는 것이 좋다. 비밀번호 수정하는 기능이 추가되어 비밀번호 정합성 로직이 다른데도 필요하다고 생각을 해보자. 그렇다면 이때서야 비밀번호 정합성을 검사하는 로직을 분리해서 구성을 하거나, <strong>최악의 경우 Copy&amp;Paste로 코드를 복사해서 사용할 것이다.</strong> 비밀번호 정합성을 검사하는 로직이 그래도 메소드 내부에서 잘 구분되어 있어서 분리하기 쉽다면 좋지만, 다른 부분과 엮여서 분리하기 어려운 경우도 많다. 이 때문에, 최초에 개발을 진행하기 전에 기능에 대한 분석이 필요한 것이다.</div><div class="paragraph"><p><strong>기능 분석을 할 때 우선 어떤 기능들이 있는지 기능 리스트업을 해야된다.</strong> 앞의 예시에서는 아이디 중복검사, 비밀번호 정합성 검사, 회원정보 저장 이렇게 3가지 기능이 있다. 이 외에도 <code>비기능 요구사항</code>에 의해 실행 로그를 저장한다고 한다면 로그를 저장하는 기능까지 4가지 기능이 필요하게 된다. 기능 리스트업을 하면 상세 기능에 대한 분석이 필요하다. 비밀번호 정합성 검사를 예로들면 어떠한 규칙으로 정합성 검사를 하는지에 대해 분석을 하는 것이다.</div><div class="paragraph"><p><strong>기능에 대한 분석이 완료되면 설계를 하게 될 것이다.</strong> 회원정보를 저장하는데는 아이디 중복검사와 비밀번호 정합성 검사는 <code>기능 요구사항</code>이므로 기능 실행에 대한 필수 필요조건이 되고 <code>UseCase</code>로 표현하면 <code>include</code> 관계가 된다. 따라서 회원정보를 저장하는 로직에서 아이디 중복검사와 비밀번호 정합성 검사를 호출해서 사용하도록 개발을 할 수 있다. 실행 로그를 저장하는 행위는 <code>비기능 요구사항</code>으로 회원정보를 저장하는 로직에서는 실행 로그가 저장되는지 알 필요가 없다. 따라서 실행로그를 저장하는 행위는 회원정보를 저장하는 로직에 포함되지 않고, 회원정보를 저장하는 로직이 실행는 전 후로 실행되도록 개발을 할 수 있을 것이다. 이런 식으로 기능에 대한 기본 분석 이후에 기능의 호출 관계 및 실행 순서에 대해서 설계를 할 수 있다. 또한 이런식으로 기능을 분석해서 분리해서 개발을 하게 된다면 이후에 동일한 기능을 사용하는 기능이 추가될 때 추가개발범위가 줄어들게되는 이점이 있다.</div><div class="paragraph"><p>기능을 분리하는 것은 어려운 일이다. 추가확장의 가능성이 없어서 분리할 필요가 없는데 분리하여 오버스펙이 될 수도 있고, 추가확장의 가능성이 없어서 분리하지 않았지만 뜬금없이 추가확장이 되는 경우도 있다. 이 때문에 기능을 분리할 지 하나로 합칠지에 대해서는 많은 고민이 필요하고 많은 경험이 필요하다.</div></div></div><div class="sect1"><h2 id="기능_명세_작성"><a class="link" href="#기능_명세_작성">3. 기능 명세 작성</a></h2><div class="sectionbody"><div class="paragraph"><p>기능 명세를 작성하는데는 특별한 룰은 없는 것 같다. 분석된 기능의 내용을 상세하게 기록하면 된다. 필자의 경우에는 우선 기능의 기본 기능에 대해 작성을 한다. 기본 기능에 대해서 작성한 이후에는 특이케이스 및 예외사항에 대해 작성을 한다. 그 다음에는 어떤 값을 가지고 이 기능을 실행하면 어떤 결과가 도출되는지에 대해 작성을 한다. 기능 명세는 상세하게 작성하면 할 수록 좋다. 그만큼 기능에 대해서 더욱 명확해지기 때문이다. 이렇게 작성한 명세서는 시나리오별로 잘 분리해서 <code>Test Case</code>로도 사용할 수 있다. 기능분리를 했고, Input/Output에 대한 내용을 정리했고, 특이케이스 및 예외사항에 대해 정의를 했기 때문에 가능한 일이다. 또한, 분석과정에서 기능의 호출관계에 대해서도 분석을 했기 때문에 <code>Mock</code> 대상에 대해서도 명확해지게 된다.</div><div class="paragraph"><p>기능 명세를 작성하면서 주의할 점은 백엔드 기능에 대해 정의하는 것이므로 화면에 대한 내용이 들어가면 안된다는 것이다. <strong>백엔드 개발자는 기능분석/설계를 하는 과정에서는 어떠한 경우라도 화면을 배제해야 된다.</strong></div></div></div><div class="sect1"><h2 id="결론"><a class="link" href="#결론">4. 결론</a></h2><div class="sectionbody"><div class="paragraph"><p>기능을 분석하고 명세를 작성하는 것은 매우 어려운 일이라고 생각한다. 초기 개발과정에서는 쓸데없는 일로 오히려 리소스만 더 소모하는 것으로 보여질 수도 있다. 하지만 지금 당장이 아닌 미래를 본다면 충분히 가치있는 행동이고, 꼭 필요한 행동이다. 문서를 작성하다보면 더욱 많은 고민을 하게 될 것이고, 코드 뿐만 아니라 개인에게도 고민을 통해 얻는 이점이 충분히 있다고 생각을 한다. 또한, 기능을 분석/설계하는 행위와 명세를 작성하는 행위는 <code>Test Case</code>를 작성하는것이나 <code>클린코드</code>를 작성하는 것과도 밀접한 연관관계를 가지고 있기 때문에 이에 숙달되면 개발을 하는데 많은 도움이 될 것이라 생각을 한다.</div><div class="paragraph"><p><strong>문서를 작성하지 않는 것보다 더욱 위험한 행동은 문서를 업데이트 하지 않는 것이다.</strong> 없는 정보는 처음부터 찾아보면 되지만 잘못된 정보는 처음부터 찾아보지 않을 수 있고 이로인해 잘못된 판단을 할 수 있기 때문이다. 문서를 작성하지 않았다면 지금부터라도 문서를 작성하는 것에 습관을 들이고, 문서를 업데이트하는 습관을 들이는 것을 추천한다.</div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2018/12/29/jvm-1" class="post" role="article"><h1 class="post-title"> <a href="/2018/12/29/jvm-1/"> JVM Memory </a></h1><div class="post-date"> <time datetime="2018-12-29T00:00:00+00:00">2018/12/29/</time> <span>on <a href="/tag/java/">Java</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="jvm"><a class="link" href="#jvm">1. JVM?</a></h2><div class="sectionbody"><div class="ulist"><ul><li><p>정의된 스펙을 구현한 하나의 독자적인 프로세스 형태로 구동되는 <code>Runtime Instance</code><li><p><code>Java</code> 프로그램의 모든 것들을 실행시키는 기본 데몬<li><p><code>Class</code> 파일을 로딩하고 `ByteCode`를 해석하는 과정을 거쳐 메모리 리소스를 할당하고 관리하며 정보를 처리<li><p><code>Thread</code> 관리 및 `Garbage Collection`과 같은 메모리 정리</ul></div><div class="sect2"><h3 id="용어"><a class="link" href="#용어">1.1. 용어</a></h3><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">용어<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Java Source<td class="tableblock halign-left valign-top"><p class="tableblock">사용자가 작성한 Java 코드<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Java Compiler<td class="tableblock halign-left valign-top"><p class="tableblock">Java Source 파일을 JVM이 해석할 수 있는 Java Byte Code로 변경하는 Compiler<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Java Byte Code<td class="tableblock halign-left valign-top"><p class="tableblock">Java Compiler에 의해 수행될 결과물(.class 파일)<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Class Loader<td class="tableblock halign-left valign-top"><p class="tableblock">JVM 내로 .class파일들을 Load 하여 Loading된클래스들을 Runtime Data Area에 배치<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Execution Engine<td class="tableblock halign-left valign-top"><p class="tableblock">Loading된 클래스의 Byte Code를 해석<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Runtime Data Area<td class="tableblock halign-left valign-top"><p class="tableblock">JVM이 프로그램을 수행하기 위해 OS에서 할당 받은 메모리 공간<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Method Area<td class="tableblock halign-left valign-top"><p class="tableblock">클래스, 변수, Method, static변수,상수 정보 등이 저장되는 영역으로 모든 Thread가 공유<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Heap Area<td class="tableblock halign-left valign-top"><p class="tableblock">new 명령어로 생성된 인스턴스와 객체가 저장되는 영역으로 Garbage Collection 대상이고 모든 Thread가 공유<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Stack Area<td class="tableblock halign-left valign-top"><p class="tableblock">Method 내에서 사용되는 값들(Argument, Local Variable, Return Value)이 저장되는 영역으로 메소드가 호출될 때 LIFO로 하나씩 생성되고, 메소드 실행이 완료되면 LIFO로 하나씩 삭제(Thread별로 하나씩 생성)<tr><td class="tableblock halign-left valign-top"><p class="tableblock">PC Register<td class="tableblock halign-left valign-top"><p class="tableblock">CPU의 Register와 비슷한 역할로 현재 수행중인 JVM 명령의 주소값이 저장(Thread별로 하나씩 생성)<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Native Method Stack<td class="tableblock halign-left valign-top"><p class="tableblock">다른 언어(C/C++)의 메소드 호출을 위해 할당되는 구역으로 언어에 맞게 Stack이 형성</table></div></div></div><div class="sect1"><h2 id="java_heap"><a class="link" href="#java_heap">2. Java Heap</a></h2><div class="sectionbody"><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"><thead><tr><th class="tableblock halign-left valign-top">용어<th class="tableblock halign-left valign-top">설명<tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Eden(Young)<td class="tableblock halign-left valign-top"><p class="tableblock">Object가 생성될 때 Heap에 최초로 할당되는 영역<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Survivor (Young)<td class="tableblock halign-left valign-top"><p class="tableblock">Eden 영역이 꽉 차서 Minor GC가 발생할 때 살아남은 Live Object들이 이동되는 영역<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Tenured(Old)<td class="tableblock halign-left valign-top"><p class="tableblock">Young Generation에서 Live Object로 오래 살아남은 Object들이 이동되는 영역(특정 회수 이상 참조되어 기준 Age를 초과한 Object) 비교적 오랫동안 참조되어 이용되고 있고 앞으로도 계속 사용될 확률이 높은 Object들이 저장<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Permanent<td class="tableblock halign-left valign-top"><p class="tableblock">Class와 Method의 Meta 정보나 Static 변수와 같은 상수 정보들이 저장되는 영역(Java 8 이후로 사라짐)<tr><td class="tableblock halign-left valign-top"><p class="tableblock">Metaspace(Native)<td class="tableblock halign-left valign-top"><p class="tableblock">Java 8부터 생긴 영역으로 Permanent 영역에서 저장하던 정보 중 Static Object를 제외한 정보들을 저장하는 영역</table><div class="ulist"><ul><li><p>Heap 영역은 JVM에 의해 관리되는 영역이고, Native 메모리는 OS레벨에서 관리하는 영역</ul></div><div class="paragraph"><p><strong>Permanent 초기치와 최대치 확인</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">java -XX:+PrintFlagsFinal -version -server | grep &quot;PermSize&quot;</code></pre></div></div><div class="paragraph"><p><strong>Metaspace 초기치와 최대치 확인</strong></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">java -XX:+PrintFlagsFinal -version -server | grep &quot;MetaspaceSize&quot;</code></pre></div></div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2018/11/08/spring-one" class="post" role="article"><h1 class="post-title"> <a href="/2018/11/08/spring-one/"> SpringOne Tour 2018 Memo </a></h1><div class="post-date"> <time datetime="2018-11-08T00:00:00+00:00">2018/11/08/</time> <span>on <a href="/tag/etc/">Etc</a><span>, </span><a href="/tag/java/">Java</a><span>, </span><a href="/tag/spring/">Spring</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="전반적인_후기"><a class="link" href="#전반적인_후기">1. 전반적인 후기</a></h2><div class="sectionbody"></div></div><div class="sect1"><h2 id="full_stack_reactive_kotlin_with_spring_framework_5_spring_boot2_project_reactor"><a class="link" href="#full_stack_reactive_kotlin_with_spring_framework_5_spring_boot2_project_reactor">2. Full Stack Reactive Kotlin! with Spring Framework 5, Spring Boot2, &amp; Project Reactor</a></h2><div class="sectionbody"><div class="admonitionblock note"><table><tr><td class="icon"> <i class="fa icon-note" title="Note"></i><td class="content"><div class="paragraph"><p>Reactive Spring with Spring Boot 2.0</div><div class="paragraph"><p>Mark Heckler, Developer Advocate, Pivotal</div></table></div><div class="paragraph"><p>site: www.thehecklers.com</div><div class="paragraph"><p>twitter: @mkheck</div><div class="ulist"><ul><li><p>트위터 홍보중..<li><p>그 다음 이메일 홍보중&#8230;&#8203;<li><p>일하는거 증명해야된다고 자꾸 사진찍음&#8230;&#8203;<li><p>이 아저씨 뭐하는 아저씨야&#8230;&#8203;<li><p>Non-blocking, event-driven application<li><p>scale with a small number of threads<li><p>backpresure as a key ingredient<li><p>thread가 대기하는 비효율적인 상황을 없애고 효율적으로 쓰도록 한다<li><p>적은 수의 thread로 많은 요청을 처리할 수 있도록한다<li><p>Callback이 많을수록 보기 어려워짐</ul></div><div class="sect2"><h3 id="reactive_streams_4_interfaces"><a class="link" href="#reactive_streams_4_interfaces">2.1. Reactive Streams: 4 interfaces</a></h3><div class="ulist"><ul><li><p>Publisher&lt;T&gt;<div class="ulist"><ul><li><p>값을만들어냄</ul></div><li><p>Subscriber&lt;T&gt;<div class="ulist"><ul><li><p>소비자</ul></div><li><p>Subscription<div class="ulist"><ul><li><p>???</ul></div><li><p>Processor&lt;T&gt;<div class="ulist"><ul><li><p>Subscriber와 Subscription을 사용함</ul></div></ul></div></div><div class="sect2"><h3 id="project_reactor_a_quick_overview"><a class="link" href="#project_reactor_a_quick_overview">2.2. Project Reactor: a quick overview</a></h3><div class="ulist"><ul><li><p>피보탈에서 진행중<li><p>자바 8 사용<li><p>Spring In Busy????? 뭐야이게<li><p>Flux를 반환</ul></div></div><div class="sect2"><h3 id="lets_code"><a class="link" href="#lets_code">2.3. Let&#8217;s Code</a></h3><div class="ulist"><ul><li><p>start.spring.io<li><p>코틀린 설명중&#8230;&#8203;<li><p>라이브 코딩<li><p>코틀린 신기하당</ul></div></div><div class="sect2"><h3 id="helpful_resources"><a class="link" href="#helpful_resources">2.4. Helpful resources</a></h3><div class="ulist"><ul><li><p>www.reactive-streams.org<li><p>projectreactor.io<li><p>github.com/mkheck/FSR</ul></div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="cloud_native_spring"><a class="link" href="#cloud_native_spring">3. Cloud-Native Spring</a></h2><div class="sectionbody"><div class="admonitionblock note"><table><tr><td class="icon"> <i class="fa icon-note" title="Note"></i><td class="content"><div class="paragraph"><p>Josh Long, Spring Developer Advocate, Pivotal</div></table></div><div class="paragraph"><p>twitter: @starbuxman</div><div class="ulist"><ul><li><p>이 아저씨도 사진찍음&#8230;&#8203;<li><p>책 커버 동물때문에 책내는데 2년 걸렸다고함<li><p>ReactiveSpringBook.io<li><p>시작부터 라이브코딩<li><p>Reactive Web, Lombok, actuator, gateway<li><p>r2jdbc<li><p>이아저씨 이상해&#8230;&#8203;<li><p>라우터 게이트웨이용으로만 쓰면 좋을거같다<li><p>초당 리퀘스트 갯수 개한할 수 있음<li><p>뭔가 빠르게 코딩 잘하기는 한다..<li><p>대규모에서 Http가 아니라 RSocket을 사용해서도 할 수 있음(byte stream)<li><p>분산환경 및 더 빠르게 할 수 있음</ul></div><div style="page-break-after: always;"></div></div></div><div class="sect1"><h2 id="spring_cloud_gateway"><a class="link" href="#spring_cloud_gateway">4. Spring Cloud Gateway</a></h2><div class="sectionbody"><div class="admonitionblock note"><table><tr><td class="icon"> <i class="fa icon-note" title="Note"></i><td class="content"><div class="paragraph"><p>Younjin Jeong, Principal Technologist, Pivotal</div></table></div><div class="ulist"><ul><li><p>다양한 클라이언트에서 각 서비스로 직접 접근을 했었음<li><p>이를 l7이나 proxy를 통해서 구현하기도 했지만 점점 처리해야되는 요구사항이 많아짐<li><p>게이트웨이를 두고 헤더나 다른 값들을 통해 추가적이 요구사항을 충족할 수 있도록 하게 함<li><p>Mesh: 사이드캅(?) 패턴과 프록시 패턴의 혼용?<li><p>Zuul - netflix.github.com?<div class="ulist"><ul><li><p>요청을 어디로보낼지 결정</ul></div><li><p>Zuul2 - 비동기를 지원하기 위해 개발<li><p>Latency, Thread Count, Concurrent Connections가 중요함<li><p>Zuul2를 넣지 않음<li><p>Spring Boot 2.0 + Project Reactor + Netty<li><p>유레카: Service Discovery<li><p>Ribbon: Latency에 따라 요청을 핸들링<li><p>curl은 사람이 쓸게 아님..HTTPie<li><p>fallbackUri &gt; Service API에 문제 발생 시 미리지정한 Fallback Message를 줄 수 있음<li><p>Zipkin</ul></div><div style="page-break-after: always;"></div></div></div><div class="sect1"><h2 id="cloud_event_driven_architectures_with_spring_cloud_stream_2_0"><a class="link" href="#cloud_event_driven_architectures_with_spring_cloud_stream_2_0">5. Cloud Event Driven Architectures with Spring Cloud Stream 2.0</a></h2><div class="sectionbody"><div class="admonitionblock note"><table><tr><td class="icon"> <i class="fa icon-note" title="Note"></i><td class="content"><div class="paragraph"><p>Jakub Pilimon, Principal Technologist Pivotal</div></table></div><div class="ulist"><ul><li><p>pillopl.github.io<li><p>github.com/ddd-by-examples<li><p>도메인을 어떻게 Discover 하는지<li><p>이벤트를 발견하고 이벤트의 트리거를 찾는다<li><p>이벤트간의 연관관계(?)를 파악한다<li><p>effect of events on invariants<li><p>용어를 정의한다<li><p>메세지가 중요하다<li><p>Event와 행위(Behavior)가 비슷한거같은데&#8230;&#8203;뭐가다른거지&#8230;&#8203;<li><p>동일한 처리를 하는것 같아도 행위가 다르면 별도로 메소드 처리<li><p>given에 값이 들어가는 것 뿐만 아니라 전처리(선행 행위)를 쓸수있음<li><p><code>io.vavr.io.collection.List.ofAll(&#8230;&#8203;).foldLeft</code><li><p>include, exclude가 아닌 broker를 두고 broker가 호출하는 식으로 사용하는것이 흐름을 파악하기 쉽다<li><p>Consumer, Producer는 서로가 누구인지 알 필요가 없음<li><p>APPLICATION_STREAM_JSON_VALUE<li><p>인텔리제이에 되게 신기한기능있다&#8230;&#8203;. 블록지정해서 메소드를 만들어냄<li><p>굳이 하나로 다 쓸 필요 없이 and 라는 좋은것이 있음</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="groovy"><span class="key">given</span>:
<span class="key">and</span>:
<span class="key">and</span>:
<span class="key">when</span>:
<span class="key">and</span>:
<span class="key">then</span>:</code></pre></div></div><div style="page-break-after: always;"></div></div></div><div class="sect1"><h2 id="spring_functions_serverless_and_you"><a class="link" href="#spring_functions_serverless_and_you">6. Spring, Functions, Serverless and You</a></h2><div class="sectionbody"><div class="admonitionblock note"><table><tr><td class="icon"> <i class="fa icon-note" title="Note"></i><td class="content"><div class="paragraph"><p>Nate Schutta, Solution Architect, Pivotal</div></table></div><div class="ulist"><ul><li><p>IaaS(Infrastructure as a Service)<li><p>Docker Container<li><p>Kubernates<li><p>cloudfoundary<li><p>집중이 안댐 ㅠㅠ</ul></div><div style="page-break-after: always;"></div></div></div><div class="sect1"><h2 id="spring_boot_spring_cloud_on_pivotal_application_service"><a class="link" href="#spring_boot_spring_cloud_on_pivotal_application_service">7. Spring Boot &amp; Spring Cloud on Pivotal Application Service</a></h2><div class="sectionbody"><div class="admonitionblock note"><table><tr><td class="icon"> <i class="fa icon-note" title="Note"></i><td class="content"><div class="paragraph"><p>Younjin Jeong, Principal Technologist, Pivotal</div></table></div><div class="ulist"><ul><li><p>Full Cycle Developers<li><p>Pivotal Application Service<li><p>Cred Hub<li><p>Pivotal 제품 소개 위주</ul></div><div style="page-break-after: always;"></div></div></div><div class="sect1"><h2 id="using_spinnaker_to_create_a_development_workflow_on_kubernates"><a class="link" href="#using_spinnaker_to_create_a_development_workflow_on_kubernates">8. Using Spinnaker to Create a Development Workflow on Kubernates</a></h2><div class="sectionbody"><div class="admonitionblock note"><table><tr><td class="icon"> <i class="fa icon-note" title="Note"></i><td class="content"><div class="paragraph"><p>Paul Czarkowski, Principal Technologist, Pivotal</div></table></div><div class="ulist"><ul><li><p>맥주(kloud)가 기술적이라함<li><p>피보탈에서 돈받아서 피보탈얘기를 해야한다함<li><p>kubernates master가 여러 worker를 관리함<li><p>Pod<li><p>StatefulSet<li><p>Helm<li><p>Spinnaker<li><p>Halyard</ul></div><div class="paragraph"><p><code>@_@</code></div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><article id="post-2018/10/21/spring-mvc" class="post" role="article"><h1 class="post-title"> <a href="/2018/10/21/spring-mvc/"> Spring MVC </a></h1><div class="post-date"> <time datetime="2018-10-21T00:00:00+00:00">2018/10/21/</time> <span>on <a href="/tag/spring/">Spring</a><span>, </span><a href="/tag/java/">Java</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="term"><a class="link" href="#term">1. 기본 용어</a></h2><div class="sectionbody"><div class="sect2"><h3 id="request-mapping"><a class="link" href="#request-mapping">1.1. @RequestMapping</a></h3><div class="ulist"><ul><li><p>DefaultAnnotationHandlerMapping에서 매핑<li><p>url과 컨트롤러 메소드 매핑정보 생성<li><p>클래스, 메소드 레벨에 사용 가능<li><p>url, method, parameter, header 정보를 통해 구분 가능<li><p>url에 ANT스타일의 와일드카드 사용 가능<li><p>상속 가능</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RequestMapping</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/home</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RequestMapping</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/home*</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RequestMapping</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/home/**/action</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RequestMapping</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/user/{userId}</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RequestMapping</span>({<span class="string"><span class="delimiter">&quot;</span><span class="content">/</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">/index</span><span class="delimiter">&quot;</span></span>})
<span class="annotation">@RequestMapping</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">/user/{userId}</span><span class="delimiter">&quot;</span></span>, method=RequestMethod.GET)
<span class="annotation">@RequestMapping</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">/login</span><span class="delimiter">&quot;</span></span>, method=RequestMethod.POST, params=<span class="string"><span class="delimiter">&quot;</span><span class="content">env=mobile</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RequestMapping</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">/login</span><span class="delimiter">&quot;</span></span>, method=RequestMethod.POST, params=<span class="string"><span class="delimiter">&quot;</span><span class="content">env=!mobile</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RequestMapping</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">/login</span><span class="delimiter">&quot;</span></span>, method=RequestMethod.POST, headers=<span class="string"><span class="delimiter">&quot;</span><span class="content">content-type=application/json</span><span class="delimiter">&quot;</span></span>)</code></pre></div></div></div><div class="sect2"><h3 id="controller"><a class="link" href="#controller">1.2. @Controller</a></h3><div class="ulist"><ul><li><p>Controller를 정의<li><p>여러 값들을 매핑할 수 있도록 함</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Controller</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleController</span> {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="servlet"><a class="link" href="#servlet">1.3. HttpServletRequest, HttpServletResponse</a></h3><div class="ulist"><ul><li><p>서블릿의 HttpServletRequest와 HttpServletResponse</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> method(HttpServletRequest request, HttpServletResponse response) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="http-session"><a class="link" href="#http-session">1.4. HttpSession</a></h3><div class="ulist"><ul><li><p>세션관리 객체</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> method(HttpSession session) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="web-request"><a class="link" href="#web-request">1.5. WebRequest</a></h3><div class="ulist"><ul><li><p>HttpServletRequest의 정보를 대부분 그대로 갖고 있는 서블릿 API에 종속적이지 않은 오브젝트 타입<li><p>서블릿과 프틀릿 환경 양쪽에 모두 적용 가능한 범용적인 핸들러 인터셉터를 만들 때 활용하기 위함</ul></div></div><div class="sect2"><h3 id="native-web-request"><a class="link" href="#native-web-request">1.6. NativeWebRequest</a></h3><div class="ulist"><ul><li><p>WebRequest 내부에 감춰진 HttpServeltRequest와 같은 환경종속적인 오브젝트를 가져올 수 있는 메소드가 추가되어있음</ul></div></div><div class="sect2"><h3 id="path-variable"><a class="link" href="#path-variable">1.7. @PathVariable</a></h3><div class="ulist"><ul><li><p>url로 들어가는 패스 변수를 받는다</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// curl https://sample.nuti.pe.kr/home/1</span>
<span class="annotation">@RequestMappint</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/home/{id}</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@PathVariable</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">Long</span> id) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="request-param"><a class="link" href="#request-param">1.8. @RequestParam</a></h3><div class="ulist"><ul><li><p><code>application/x-www-form-urlencoded</code>요청에서 쿼리스트링을 매핑</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// curl https://sample.nuti.pe.kr/home?id=1</span>
<span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@RequestParam</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">Long</span> id) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="cookie-value"><a class="link" href="#cookie-value">1.9. @CookieValue</a></h3><div class="ulist"><ul><li><p>쿠키값을 받음<li><p>필수여부 지정 가능</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// curl -b 'auth=abc' https://sample.nuti.pe.kr</span>
<span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@CookieValue</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">auth</span><span class="delimiter">&quot;</span></span>, required=<span class="predefined-constant">false</span>, defaultValue=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> auth) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="request-header"><a class="link" href="#request-header">1.10. @RequestHeader</a></h3><div class="ulist"><ul><li><p>헤더 정보를 받음<li><p>필수여부 지정 가능</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// curl -H 'Content-Type: application/json' https://sample.nuti.pe.kr</span>
<span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@RequestHeader</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">Content-Type</span><span class="delimiter">&quot;</span></span>, required=<span class="predefined-constant">true</span>) <span class="predefined-type">String</span> contentType) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="model-map"><a class="link" href="#model-map">1.11. Map, Model, ModelMap</a></h3><div class="ulist"><ul><li><p>모델 정보를 담는데 사용</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> method(<span class="predefined-type">Map</span> model) {
  ...
}
<span class="directive">public</span> <span class="type">void</span> method(Model model) {
  ...
}
<span class="directive">public</span> <span class="type">void</span> method(ModelMap model) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="model-attribute"><a class="link" href="#model-attribute">1.12. @ModelAttribute</a></h3><div class="ulist"><ul><li><p>생략가능<li><p>모델 정보를 객체에 매핑<li><p>클라이언트에서 받은 정보를 매핑할 수도 있고, 서버에서 등록한 정보도 매핑할 수 있음</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> method(User user) {
  ...
}
<span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@ModelAttribute</span> User user) {
  ...
}
<span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@ModelAttribute</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">currentUser</span><span class="delimiter">&quot;</span></span>) User user) {
  ...
}

<span class="annotation">@ModelAttribute</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">userId</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="predefined-type">String</span> getUserId(HttpServletRequest request) {
  <span class="predefined-type">Object</span> userId = request.getAttribute(<span class="string"><span class="delimiter">&quot;</span><span class="content">userId</span><span class="delimiter">&quot;</span></span>);
  <span class="keyword">return</span> (<span class="predefined-type">String</span>) userId;
}
<span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@ModelAttribute</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">userId</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> userId) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="request-body"><a class="link" href="#request-body">1.13. @RequestBody</a></h3><div class="ulist"><ul><li><p>payload를 mapping</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// curl -X POST -H 'Content-Type: application/json' -d '{ &quot;idx&quot;: 1, &quot;id&quot;: &quot;user&quot; }'</span>
<span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@RequestBody</span> User user) {
  ..
}</code></pre></div></div></div><div class="sect2"><h3 id="value"><a class="link" href="#value">1.14. @Value</a></h3><div class="ulist"><ul><li><p>프로퍼티값<li><p>상수 값<li><p>특정 메소드를 호출한 결과 값</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Value</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#{systemProperties['user.home']}</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> userHome;</code></pre></div></div></div><div class="sect2"><h3 id="model-and-view"><a class="link" href="#model-and-view">1.15. ModelAndView</a></h3><div class="ulist"><ul><li><p>반환하는 객체와 뷰를 지정</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RequestMapping</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> ModelAndView index(Device device) {
  ModelAndView mav = <span class="keyword">new</span> ModelAndView();

  mav.addObject(<span class="string"><span class="delimiter">&quot;</span><span class="content">isMobileDevice</span><span class="delimiter">&quot;</span></span>, device.isMobile());
  mav.setViewName(<span class="string"><span class="delimiter">&quot;</span><span class="content">index</span><span class="delimiter">&quot;</span></span>);

  <span class="keyword">return</span> mav;
}</code></pre></div></div></div><div class="sect2"><h3 id="view"><a class="link" href="#view">1.16. 뷰 지정</a></h3><div class="ulist"><ul><li><p>String으로 뷰 이름을 지정 가능<li><p>void로 사용할 시 url을 통해 view 지정<li><p>이외 모델 사용시 url을 통해 지정</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span> method(Model model) {
  ...
  return <span class="string"><span class="delimiter">&quot;</span><span class="content">index</span><span class="delimiter">&quot;</span></span>;
}

<span class="annotation">@RequestMapping</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/index</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> method(Model model) {
  ...
}

<span class="annotation">@RequestMapping</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/index</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> User method() {
  ...
}

<span class="directive">public</span> <span class="predefined-type">String</span> method(RedirectAttributes redirectAttributes) {
  <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">redirect:/index</span><span class="delimiter">&quot;</span></span>;
}</code></pre></div></div></div><div class="sect2"><h3 id="response-body"><a class="link" href="#response-body">1.17. @ResponseBody</a></h3><div class="ulist"><ul><li><p>반환값을 응답 본문으로 사용</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ResponseBody</span>
<span class="directive">public</span> <span class="predefined-type">String</span> method() {
  <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Hello&lt;/body&gt;&lt;/html&gt;</span><span class="delimiter">&quot;</span></span>
}</code></pre></div></div></div><div class="sect2"><h3 id="sessionattributes"><a class="link" href="#sessionattributes">@SessionAttributes</a></h3><div class="ulist"><ul><li><p>모델 객체를 세션에 저장해서 사용할 수 있도록 함<li><p>세션의 값을 사용</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Controller</span>
<span class="annotation">@SessionAttributes</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">user</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleController</span> {
  ...

  <span class="annotation">@RequestMapping</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/</span><span class="delimiter">&quot;</span></span>)
  <span class="directive">public</span> <span class="predefined-type">String</span> method(<span class="annotation">@ModelAttribute</span> User user) {
    ...
  }
}</code></pre></div></div></div><div class="sect2"><h3 id="session-status"><a class="link" href="#session-status">1.18. SessionStatus</a></h3><div class="ulist"><ul><li><p>세션을 관리<li><p>사용이 완료된 세션을 제거하지 않으면 메모리 누수가 발생할 수 있으므로 사용 후 제거해야함</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> method(SessionStatus sessionStatus) {
  sessionStatus.setComplete();
}</code></pre></div></div></div><div class="sect2"><h3 id="binder"><a class="link" href="#binder">1.19. @InitBinder, WebDataBinder</a></h3><div class="ulist"><ul><li><p>메소드 파라미터를 바인딩 및 검증<li><p>allowedFields, disallowedFields</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> AgentValidator agentValidator;

<span class="annotation">@InitBinder</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">agent</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">void</span> initAgentBinder(WebDataBinder dataBinder) {
  dataBinder.setValidator(agentValidator);
}</code></pre></div></div></div><div class="sect2"><h3 id="validator"><a class="link" href="#validator">1.20. Validator</a></h3><div class="ulist"><ul><li><p>@ModelAttribute로 바인딩되는 모델의 데이터 검</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Component</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">AgentValidator</span> <span class="directive">implements</span> <span class="predefined-type">Validator</span> {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> supports(<span class="predefined-type">Class</span>&lt;?&gt; clazz) {
    <span class="keyword">return</span> (<span class="predefined-type">String</span>.class.isAssignableFrom(clazz));
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> validate(<span class="predefined-type">Object</span> target, Errors errors) {
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; agentList = <span class="predefined-type">Arrays</span>.asList(OS_ANDROID.getName(), OS_IOS.getName());
    ErrorCode error = <span class="predefined-constant">null</span>;

    <span class="predefined-type">String</span> agent = (<span class="predefined-type">String</span>) target;

    <span class="keyword">if</span> (! agentList.contains(agent)) {
      error = ErrorCode.UnsupportedAgent;
    }

    <span class="keyword">if</span> (error != <span class="predefined-constant">null</span>) {
      errors.reject(error.getCode(), error.getMessage());
    }
  }
}</code></pre></div></div></div><div class="sect2"><h3 id="valid"><a class="link" href="#valid">1.21. @Valid</a></h3><div class="ulist"><ul><li><p>@ModelAttribute의 값을 검증</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RequestMapping</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">/{agent}</span><span class="delimiter">&quot;</span></span>, method = RequestMethod.GET)
<span class="directive">public</span> JigjakVersion getVersion(<span class="annotation">@ModelAttribute</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">agent</span><span class="delimiter">&quot;</span></span>) <span class="annotation">@Valid</span> <span class="predefined-type">String</span> agent, BindingResult bindingResult) {
  ...
}</code></pre></div></div></div><div class="sect2"><h3 id="errors-binding-result"><a class="link" href="#errors-binding-result">1.22. Errors, BindingResult</a></h3><div class="ulist"><ul><li><p>@ModelAttribute의 Validation 결과를 담음</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> method(<span class="annotation">@ModelAttribute</span> User, BindingResult result) {
  <span class="keyword">if</span> (bindingResult.hasErrors()) {
    ObjectError error = bindingResult.getAllErrors().get(<span class="integer">0</span>);

    <span class="keyword">throw</span> <span class="keyword">new</span> ResourceNotFoundException(UnsupportedAgent);
  }
}</code></pre></div></div></div><div class="sect2"><h3 id="converter"><a class="link" href="#converter">1.23. Converter</a></h3><div class="ulist"><ul><li><p>데이터 바인딩 시 데이터를 변환<li><p>ex) String &#8594; 클래스<li><p>클래스 &#8594; String</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">Converters</span>&lt;S, T&gt; {
  T convert(S source);
}</code></pre></div></div></div><div class="sect2"><h3 id="conversion-service"><a class="link" href="#conversion-service">1.24. ConversionService</a></h3><div class="ulist"><ul><li><p>컨트롤러 값 바인딩 시 데이터 타입 변환에 사용<li><p>InitBinder 혹은 ConfigurableWebBindingInitializer를 통해 등록</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;bean</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.springframework.context.support.ConversionServiceFactoryBean</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">converters</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;set&gt;</span>
      <span class="tag">&lt;bean</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">kr.pe.nuti.converter.CustomConverter</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/set&gt;</span>
  <span class="tag">&lt;/property&gt;</span>
<span class="tag">&lt;/bean&gt;</span></code></pre></div></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Autowired</span>
<span class="directive">private</span> ConversionService conversionService;

<span class="annotation">@InitBinder</span>
<span class="directive">public</span> <span class="type">void</span> initBinder(WEbDataBinder dataBinder) {
  dataBinder.setConversionService(<span class="local-variable">this</span>.conversionService);
}</code></pre></div></div></div><div class="sect2"><h3 id="formatter"><a class="link" href="#formatter">1.25. Formatter, FormattingConversionService</a></h3><div class="ulist"><ul><li><p>오브젝트 &gt; 문자열<li><p>문자열 &gt; 오브젝트<li><p>locale이 포함<li><p>html</ul></div></div><div class="sect2"><h3 id="number-format"><a class="link" href="#number-format">1.26. @NumberFormat</a></h3><div class="ulist"><ul><li><p>숫자, 문자 포맷</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@NumberFormat</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">$###,##0.00</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">BigDecimal</span> price;</code></pre></div></div></div><div class="sect2"><h3 id="date-time-format"><a class="link" href="#date-time-format">1.27. @DateTimeFormat</a></h3><div class="ulist"><ul><li><p>날짜, 문자 포맷</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@DateTimeFormat</span>(pattern=<span class="string"><span class="delimiter">&quot;</span><span class="content">yyyy/MM/dd</span><span class="delimiter">&quot;</span></span>)
<span class="predefined-type">Date</span> date;</code></pre></div></div></div><div class="sect2"><h3 id="message-converter"><a class="link" href="#message-converter">1.28. Message Converter</a></h3><div class="ulist"><ul><li><p>요청본문과 응답 본문을 다룸</ul></div><div class="sect3"><h4 id="bytearrayhttpmessageconverter"><a class="link" href="#bytearrayhttpmessageconverter">1.28.1. ByteArrayHttpMessageConverter</a></h4><div class="ulist"><ul><li><p>byte[] 지원<li><p>application/octet-stream</ul></div></div><div class="sect3"><h4 id="stringhttpconverter"><a class="link" href="#stringhttpconverter">1.28.2. StringHttpConverter</a></h4><div class="ulist"><ul><li><p>xml, json같이 문서 포맷이 있다면 적절한 파서를 붙여서 활용할 수 있음</ul></div></div><div class="sect3"><h4 id="formhttpmessageconverter"><a class="link" href="#formhttpmessageconverter">1.28.3. FormHttpMessageConverter</a></h4><div class="ulist"><ul><li><p>application/x-www-form-urlencoded</ul></div></div><div class="sect3"><h4 id="sourcehttpmessageconverter"><a class="link" href="#sourcehttpmessageconverter">1.28.4. SourceHttpMessageConverter</a></h4><div class="ulist"><ul><li><p>application/json<li><p>application/*+xml<li><p>text/xml</ul></div></div><div class="sect3"><h4 id="jaxb2rootelementhttpmessageconverter"><a class="link" href="#jaxb2rootelementhttpmessageconverter">1.28.5. Jaxb2RootElementHttpMessageConverter</a></h4><div class="ulist"><ul><li><p>JAXB2의 @XmlRootElement, @XmlType이 붙은 클래스를 이용해 XML과 오브젝트를 변환할 때 사용</ul></div></div><div class="sect3"><h4 id="marshallinghttpmessageconverter"><a class="link" href="#marshallinghttpmessageconverter">1.28.6. MarshallingHttpMessageConverter</a></h4><div class="ulist"><ul><li><p>Marshaller와 UnMarshaller<li><p>XML문서와 자바 오브젝트 사이의 변환을 지원</ul></div></div><div class="sect3"><h4 id="mappingjacksonhttpmessageconverter"><a class="link" href="#mappingjacksonhttpmessageconverter">1.28.7. MappingJacksonHttpMessageConverter</a></h4><div class="ulist"><ul><li><p>Jackson ObjectMapper를 통해서 JSON 문서와 자바오브젝트 변환을 지원</ul></div></div></div><div class="sect2"><h3 id="mvc-annotation-driven"><a class="link" href="#mvc-annotation-driven">1.29. mvc:annotation-driven</a></h3><div class="ulist"><ul><li><p>MVC에서 지원하는 빈을 자동으로 등록<li><p>라이브러리의 존재 여부를 파악해서 자동으로 관련 빈을 등록</ul></div><div class="sect3"><h4 id="defaultannotationhandlermapping"><a class="link" href="#defaultannotationhandlermapping">1.29.1. DefaultAnnotationHandlerMapping</a></h4><div class="ulist"><ul><li><p>@RequestMapping을 이용한 핸들러 매핑 전략을 등록</ul></div></div><div class="sect3"><h4 id="annotationmethodhandleradapter"><a class="link" href="#annotationmethodhandleradapter">1.29.2. AnnotationMethodHandlerAdapter</a></h4><div class="ulist"><ul><li><p>DispatcherServlet이 자동으로 등록해주는 디폴트 핸들러 어댑터</ul></div></div><div class="sect3"><h4 id="configurablewebbindinginitializer"><a class="link" href="#configurablewebbindinginitializer">1.29.3. ConfigurableWebBindingInitializer</a></h4><div class="ulist"><ul><li><p>모든 컨트롤러 메소드에 자동으로 적용되는 WebDataBinder 초기화용 빈을 등록</ul></div></div><div class="sect3"><h4 id="메세지_컨버터"><a class="link" href="#메세지_컨버터">1.29.4. 메세지 컨버터</a></h4><div class="ulist"><ul><li><p>기본 컨버터와 라이브러리 유무에 따라 Jaxb2RootElementHttpMessageConverter, MappingJacksonHttpMessageConverter 등록</ul></div></div><div class="sect3"><h4 id="validator_2"><a class="link" href="#validator_2">1.29.5. validator</a></h4><div class="ulist"><ul><li><p>모든 컨테이너에 일괄 적용하는 validator 등록</ul></div></div><div class="sect3"><h4 id="conversion_service"><a class="link" href="#conversion_service">1.29.6. conversion-service</a></h4><div class="ulist"><ul><li><p>Default: FormattingConversionServiceFactoryBean</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;mvc:annotation-driven</span> <span class="attribute-name">conversion-service</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myConversionService</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>

<span class="tag">&lt;bean</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myConversionService</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">FormattingConversionServiceFactoryBean</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">converters</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    ...
  <span class="tag">&lt;/property&gt;</span>
<span class="tag">&lt;/bean&gt;</span></code></pre></div></div></div></div><div class="sect2"><h3 id="interceptors"><a class="link" href="#interceptors">1.30. Interceptors</a></h3><div class="ulist"><ul><li><p>컨트롤러 전후로 작업할 내용 지정</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;mvc:interceptors&gt;</span>
  <span class="tag">&lt;bean</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">kr.pe.nuti.GlobalInterceptor</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/mvc:intercptors&gt;</span></code></pre></div></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;mvc:interceptors&gt;</span>
  <span class="tag">&lt;mvc:interceptor&gt;</span>
    <span class="tag">&lt;mvc:mapping</span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/home/*</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;bean</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">kr.pe.nuti.HomeInterceptor</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;/mvc:interceptor&gt;</span>
<span class="tag">&lt;/mvc:interceptors&gt;</span></code></pre></div></div></div><div class="sect2"><h3 id="view-controller"><a class="link" href="#view-controller">1.31. view-controller</a></h3><div class="ulist"><ul><li><p>뷰로 매핑만 할 경우</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;mvc:view-controller</span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">view-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/index</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre></div></div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="mvc-extension"><a class="link" href="#mvc-extension">2. MVC 확장 포인트</a></h2><div class="sectionbody"><div class="sect2"><h3 id="session-attrubute-store"><a class="link" href="#session-attrubute-store">2.1. SessionAttributeStore</a></h3><div class="ulist"><ul><li><p>@SessionAttribute 에 의해 지정된 모델은 세션에 저장된<li><p>세션은 메모리에 저장됨<li><p>메모리 문제를 해결하기 위해 별도의 저장소를 사용해서 사용할 수 있음</ul></div></div><div class="sect2"><h3 id="web-argument-resolver"><a class="link" href="#web-argument-resolver">2.2. WebArgumentResolver</a></h3><div class="ulist"><ul><li><p>어플리케이션에 특화된 컨트롤러 파라미터 타입을 추가할 수 있음<li><p>암호화된 정보를 복호화해서 파라미터로 넘김</ul></div></div><div class="sect2"><h3 id="model-and-view-resolver"><a class="link" href="#model-and-view-resolver">2.3. ModelAndViewResolver</a></h3><div class="ulist"><ul><li><p>컨트롤러 메소드의 리턴 타입과 메소드 정보, 어노테이션 정보등을 통해 ModelAndView를 생성<li><p>활용도는 낮음</ul></div></div><div class="sect2"><h3 id="handler-method-return-value-handler"><a class="link" href="#handler-method-return-value-handler">2.4. HandlerMethodReturnValueHandler</a></h3><div class="ulist"><ul><li><p>리턴 값을 처리<li><p>RequestMaiingHalderAdapter의 customReturnValueHandlers 프로퍼티에 주입</ul></div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="url-resource-manage"><a class="link" href="#url-resource-manage">3. url과 리소스 관리</a></h2><div class="sectionbody"><div class="sect2"><h3 id="mvc-default-servlet-handler"><a class="link" href="#mvc-default-servlet-handler">3.1. &lt;mvc:default-servlet-handler /&gt;</a></h3><div class="ulist"><ul><li><p>servlet path가 /일 경우 모든 요청이 DispatcherServlet으로 전달됨<li><p>이때 함께 사용해야됨<li><p>@RequestMapping 정보에 의존<li><p>매핑된 정보를 찾을 수 없을 시 가장 우선순위가 낮은 디폴트 서블릿 매핑 전략을 통해 컨테이너가 제공하는 디폴트 서블릿으로 요청이 포워딩<li><p>동작원리는 이해할 필요는 없고 같이 사용해야된다는 것만 기억</ul></div></div><div class="sect2"><h3 id="url-resource"><a class="link" href="#url-resource">3.2. &lt;url:resource /&gt;</a></h3><div class="ulist"><ul><li><p>요청에 따라 리소스 경로를 지정</ul></div><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;mvc:resources</span> <span class="attribute-name">mapping</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/resources/**</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/resources/</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre></div></div></div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><br/><h2 class="sr-only">Pagination</h2><nav class="pagination" role="navigation"><ul><li class="pagination-item older" > <a rel="next" href="/page-3">Older</a><li class="pagination-item newer" > <a rel="prev" href="/">Newer</a></ul></nav></main><div id="_backdrop" class="backdrop"></div><header id="_sidebar" class="sidebar" role="banner"><div id="_asidebar" class="container sidebar-sticky"><div class="sidebar-about"><h1 class="font-accent"><a href="/">Hyeonil's Note</a></h1><p>Hyeonil’s Dev Note</div><nav class="sidebar-nav font-accent" role="navigation"><ul><li> <a class="sidebar-nav-item " href="/tag/all/">All</a><li> <a class="sidebar-nav-item " href="/tag/java/">Java</a><li> <a class="sidebar-nav-item " href="/tag/spring/">Spring</a><li> <a class="sidebar-nav-item " href="/tag/spec/">Specification</a><li> <a class="sidebar-nav-item " href="/tag/architecture/">Architecture</a><li> <a class="sidebar-nav-item " href="/tag/diary/">Diary</a><li> <a class="sidebar-nav-item " href="/tag/etc/">Etc</a><li> <a class="sidebar-nav-item " href="/about/">About</a></ul></nav><div class="sidebar-social"><ul><li> <a href="https://github.com/hyeonil"> <span class="fa fa-github"></span> <span class="sr-only">github</span> </a><li> <a href="https://nuti.tistory.com"> <span class="fa fa-external-link"></span> <span class="sr-only">blog</span> </a></ul></div></div></header><!--[if gt IE 8]><!----> <script>loadJSDeferred('/public/js/hydejack.min.js')</script> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|PT+Serif:400,400italic,700,700italic'.split('|') }, custom: { families: ['icomoon'], urls: ['/public/css/font-awesome.min.css'] }, classes: false, events: false }; </script> <script>loadJSDeferred('https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js')</script> <script> window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga('create', 'UA-88066046-1', 'auto'); ga('send', 'pageview'); </script> <script>loadJSDeferred('https://www.google-analytics.com/analytics.js')</script> <!--<![endif]-->
