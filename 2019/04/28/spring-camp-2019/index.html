<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>SpringCamp 2019 참석 후기 &middot; Hyeonil's Note</title><meta name="description" content=""> <!--[if gt IE 8]><!----><style> article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html,body{margin:0;padding:0}html{line-height:1.65}body{color:#515151;background-color:#fff}a{text-decoration:none}img{display:block;max-width:100%;margin:0 0 1rem}img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem);margin-left:calc(-1rem);margin-right:calc(-1rem)}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:600;line-height:1.25;color:#313131;text-rendering:optimizeLegibility}h1{font-size:2rem}h2{margin-top:1rem;font-size:1.5rem}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.25rem;font-weight:300}ul,ol,dl{margin-top:0;margin-bottom:1rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}.container{max-width:38rem;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}.page-title,.post-title{color:#303030}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-.25rem;margin-bottom:1rem;color:#9a9a9a;font-weight:bold}.related{padding-top:2rem;padding-bottom:2rem}.related-posts{padding-left:0;list-style:none}.related-posts>li{margin-top:1rem}.related-posts>li>*{font-weight:normal}.message{margin-bottom:1rem;padding:1rem;color:#717171;background-color:#f9f9f9;margin-left:-1rem;margin-right:-1rem}body{padding-left:0.5rem}@media (min-width: 48em){html{font-size:16px}body{padding-left:0}}@media (min-width: 58em){html{font-size:18px}}.sr-only{display:none}.backdrop{display:none}.sidebar{position:relative;z-index:4;padding:2rem 1rem;color:rgba(255,255,255,0.75);background-color:#202020;text-align:left;background-size:cover;background-position:center center;min-height:640px;min-height:100vh;margin-left:-0.5rem}.sidebar a{color:#fff}.sidebar ul{list-style:none;padding-left:0}.sidebar-sticky{position:absolute;right:1rem;bottom:1rem;left:1rem}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav-item{font-weight:bold;display:block;line-height:1.75;padding:.25rem .1rem;border-top:1px solid rgba(255,255,255,0.23)}.sidebar-social>ul{min-height:3.5rem}.sidebar::before{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(32,32,32,0.33);background:-moz-linear-gradient(bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%);background:-webkit-linear-gradient(bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%);background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}@media (min-width: 48em){.sidebar{position:fixed;top:0;left:0;bottom:0;width:18rem;margin-left:0}}.menu{display:block;padding:1.25rem 1.5rem;color:#9a9a9a;border-bottom:none;position:fixed;top:0;left:0;z-index:2}@media (min-width: 48em){.menu{position:absolute;left:-9999px}}@media (min-width: 48em){.menu:focus{left:19.5rem}}@media (min-width: 64em){.menu:focus{left:21.5rem}}.content{padding-top:4rem;padding-bottom:4rem}@media (min-width: 48em){.content{max-width:38rem;margin-left:20rem;margin-right:2rem;border-left:none}}@media (min-width: 64em){.content{margin-left:22rem;margin-right:4rem}}.me{float:right;width:6.5rem;margin-top:-4.8rem;margin-left:1rem;border-radius:100%;position:relative}@media (min-width: 38em){.me{width:7rem;margin-top:-5.05rem}}@media (min-width: 48em){.me{width:6.5rem;margin-top:-4.8rem}}@media (min-width: 58em){.me{width:7rem;margin-top:-5.05rem}}</style><noscript><link rel="stylesheet" href="/public/css/non-essentials.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|PT+Serif:400,400italic,700,700italic"> </noscript><link rel="preload" href="/public/css/non-essentials.css" as="style" onload="this.rel='stylesheet'"><style> html { font-family: "PT Serif", Georgia, serif; } :focus { outline-color: #A85641; } .font-accent { font-family: "Roboto Slab", "PT Serif", Georgia, serif; } .content a, .related-posts li a:hover { color: #A85641; } ::selection { color: #fff; background: #A85641; } ::-moz-selection { color: #fff; background: #A85641; } .sidebar { background-image: url('/public/img/side.jpg'); }</style><!--<![endif]--><link rel="canonical" href="https://blog.nuti.pe.kr/2019/04/28/spring-camp-2019/" /><link rel="alternate" type="application/atom+xml" title="Hyeonil's Note Atom Feed" href="/atom.xml"><link rel="stylesheet" href="/public/css/asciidoctor.css"><link rel="stylesheet" href="/public/css/coderay.css"><link rel="stylesheet" href="/public/css/font-awesome.min.css"><link rel="stylesheet" href="/public/css/foundation.min.css"><link rel="stylesheet" href="/public/css/normalize.css"><link rel="stylesheet" href="/public/css/custom.css"> <script>!function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n.isReady=!1,n.loadJSDeferred=function(a,r){function d(){n.isReady=!0;var d=e.createElement("script");d.src=a,r&&(("onload"in d?t:o)(d,r),d.onload||t(d,r));var i=e.getElementsByTagName("script")[0];i.parentNode.insertBefore(d,i)}n.isReady?d():n.addEventListener?n.addEventListener("load",d,!1):n.attachEvent?n.attachEvent("onload",d):n.onload=d}}(window,document); </script> <!--[if lt IE 9]> <script src="https://unpkg.com/html5shiv/dist/html5shiv.min.js"></script> <![endif]--><body> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu" href="#_asidebar"> <span>☰</span> <span class="sr-only">Menu</span> </a><main class="content container" role="main"><article id="post-2019/04/28/spring-camp-2019" class="post" role="article"><h1 class="post-title"> SpringCamp 2019 참석 후기</h1><div class="post-date"> <time datetime="2019-04-28T00:00:00+00:00">2019/04/28/</time> <span>on <a href="/tag/etc/">Etc</a><span>, </span><a href="/tag/java/">Java</a><span>, </span><a href="/tag/spring/">Spring</a></span></div><hr/> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="sect1"><h2 id="Intro"><a class="link" href="#Intro">1. Intro</a></h2><div class="sectionbody"><div class="paragraph"><p>SpringCamp는 2016년, 2017년 그리고 그 이후 2년만에 참석하는 것이다. 총 세 번 참석을 했는데, 지난번에 참석했을 때 모두 기억이 좋게 남아있어서 또 참석하게 되었다. 사실 작년에도 참석을 하고있었지만&#8230;&#8203; 티켓 판매사이트에서 티켓 판매 오픈을 이상하게 하는 바람에 멍떄리다가 티켓팅에 실패했다. 올해는 2번으로 나눠서 티켓판매를 했는데, 첫 날 작년처럼 멍때리다 실패하고, 두 번째 날 겨우 티켓팅에 성공했다.</div><div class="paragraph"><p>올해는 주로 코틀린과 모니터링에 대한 세션이 많았고, 개발 경험에 대해서 공유하는 세션들도 있었다. 코틀린은 아니지만 DSL을 사용하고 있는 입장에서 DSL을 명세를 작성하거나 스크립트를 작성하는 것이 아닌 비즈니스 애플리케이션을 구현하는데 사용한다는 것에 대해 회의적인 생각을 가지고 있어서 코틀린에는 큰 관심이 없기 떄문에 코틀린과 관련된 세션은 듣지 않고 다른 세션 위주로 참석을 했다. 참석한 세션의 내용 대부분이 만족스러웠고, 내가 가진 경험이나 생각과 비교를 하면서 들을 수 있어서 만족스러웠다. 또한, 스프링의 기능이나 모듈등에 대해서 새로 알게된 것들이 있어서 좋았다.</div><div class="paragraph"><p>참석한 세션은 아래와 같고, 하루가 지났다고 기억이 자세히나지 않는 부분이 많지만 기억나는 내용 및 요약한 내용을 정리한다.</div><div class="ulist"><ul><li><p>실전에 써먹는 스프링 부트 (김지헌님)<li><p>Monitoring With Actuator (서경원님)<li><p>자바에서 null을 안전히 다루는 방법 (박성철님)<li><p>무엇을 테스트할 것인가? 어떻게 테스트할 것인가? (권용근님)<li><p>당신도 할 수 있는 레거시 프로젝트 개선 이야기 (이경일님)</ul></div><div style="page-break-after: always;"></div></div></div><div class="sect1"><h2 id="spring-boot"><a class="link" href="#spring-boot">2. 실전에 써먹는 스프링 부트 (김지헌님)</a></h2><div class="sectionbody"><div class="paragraph"><p>업무에서 스프링 부트를 사용하고 있지는 않지만 개인적으로 공부를 조금씩이나마 하고 있고, 좀 더 알고 싶어서 세션에 참석했다.</div><div class="sect2"><h3 id="스프링부트"><a class="link" href="#스프링부트">2.1. 스프링부트</a></h3><div class="ulist"><ul><li><p>Netflix도 자바와 관련된 시스템은 모두 스프링 부트로 전환했다.<li><p><code>Spring Boot</code> - <code>Spring Cloud</code> - <code>Spring Cloud Data Flow</code>(<a href="https://spring.io" class="bare">https://spring.io</a> 에 있는 세가지인데 무엇을 설명했는지 기억이 안난다&#8230;&#8203;ㅠㅠ)<li><p>개발자가 손쉽게 부트앱을 만들 수 있다고 스프링에서 홍보중이다.</ul></div><div class="paragraph"><p><code>Spring Boot</code>는 <code>Spring Framework</code>를 기반으로한 개발 플랫폼으로 <code>Spring Boot Starter</code>, <code>Spring Framework</code>, <code>Build Tool(Gradle, Maven)</code>으로 구성되어 있다.</div></div><div class="sect2"><h3 id="gradle"><a class="link" href="#gradle">2.2. Gradle</a></h3><div class="paragraph"><p><code>Gradle</code>은 <code>Kotlin DSL</code>과 <code>Groovy DSL</code>이 있다.</div><div class="ulist"><div class="title">Kotlin DSL의 장점</div><ul><li><p>빠른 문서보기<li><p>코드 자동완성<li><p>에러 강조표시<li><p>코드 리팩토링</ul></div><div class="ulist"><div class="title">Spring Boot Gradle Plugin</div><ul><li><p>의존성 관리<li><p>실행가능한 아카이브 패키징<li><p>애플리케이션 배포<li><p>애플리케이션 실행<li><p>Actuator 지원</ul></div></div><div class="sect2"><h3 id="bombill_of_material"><a class="link" href="#bombill_of_material">2.3. BOM(Bill of Material)</a></h3><div class="ulist"><ul><li><p><code>BOM</code>으로 인해 버전을 명시적으로 작성하지않아도 된다.(호환 버전을 자동으로 import)<li><p><code>spring-boot-dependencies</code> 모듈이 의존성 관리를 한다.<li><p><code>enforce platform</code>으로 다른 <code>BOM</code> 파일 가져올 수 있다.</ul></div></div><div class="sect2"><h3 id="code"><a class="link" href="#code">2.4. Code</a></h3><div class="paragraph"><p><code>@Profile</code> 어노테이션으로 프로파일에 따라 다른 빈 설정 및 주입을 할 수 있다.</div><div class="ulist"><div class="title">스프링 부트 자동구성(AutoConfiguration)</div><ul><li><p><code>@Configuration</code><li><p><code>@Conditional~~</code></ul></div><div class="ulist"><div class="title">애플리케이션 속성을 실행시점에 외부에서 변경한다.</div><ul><li><p>실행 시점에 실행 파라미터(?)로 주입<li><p><code>@ConfigurationProperties</code><li><p>무슨 json 을 만들어냄</ul></div><div class="listingblock"><div class="title">ConfigurationProperties Example</div><div class="content"><pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Component</span>
<span class="annotation">@ConfigurationProperties</span>(prefix = <span class="string"><span class="delimiter">&quot;</span><span class="content">example.tt</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleProperties</span> {
  <span class="predefined-type">String</span> name;
  <span class="predefined-type">String</span> key;
}</code></pre></div></div></div><div class="sect2"><h3 id="후기"><a class="link" href="#후기">2.5. 후기</a></h3><div class="paragraph"><p>스프링 부트를 공부용으로 하는 작은 토이 프로젝트에서는 사용하고있다. 하지만 공부를 하는 것과 실무를 하는 것에는 차이가 있기 떄문에 공부를 하면서 알지 못한 처음보는 기능들을 알게되어서 좋았다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="monitoring-with-actuator"><a class="link" href="#monitoring-with-actuator">3. Monitoring With Actuator (서경원님)</a></h2><div class="sectionbody"><div class="paragraph"><p>두번째 세션은 부종민님의 <code>websocket</code> 세션과 고민을 많이 하다가 밝히기 어려운 이유로 서경원님의 세션에 참석했다.</div><div class="sect2"><h3 id="why_how_monitoring"><a class="link" href="#why_how_monitoring">3.1. Why &amp; How Monitoring</a></h3><div class="ulist"><ul><li><p>장애 예방, 원인 파악, 조치<li><p>변경에 대한 상태 확인<li><p>성능 개선<li><p>장기적인 서비스 상태 분석<li><p>지표가 필요하다</ul></div><div class="paragraph"><p>모니터링을 하는데 지표를 어디서 어떻게 획득할 것인가?</div></div><div class="sect2"><h3 id="nhn_모니터링_시스템"><a class="link" href="#nhn_모니터링_시스템">3.2. NHN 모니터링 시스템</a></h3><div class="ulist"><ul><li><p>서버 인프라 지표 수집<li><p>애플리케이션 지표 수집<li><p>모니터링 차트 제공<li><p>지표 감시 및 알림</ul></div></div><div class="sect2"><h3 id="spring_boot_actuator"><a class="link" href="#spring_boot_actuator">3.3. Spring Boot Actuator</a></h3><div class="ulist"><ul><li><p>Spring Boot 애플리케이션 모니터링<li><p>제어 도구 제공 - <code>endpoints</code><li><p>애플리케이션 지표 제공 - <code>metrics</code><li><p><code>dependency</code> 추가하면 <code>AutoConfiguration</code>에 의해서 자동으로 등록한다.<li><p>여러 종류의 <code>endpoints</code> 를 제공한다.<li><p>사용할 <code>endpoints</code>를 설정을 통해서 제어 가능 및 외부 노출 설정이 가능하다.<li><p><code>enabled-by-default=false</code>로 해서 기본 사용 옵션을 끌 수 있다.<li><p><code>spring-security</code>로 endpoint 권한 설정 가능하다.</ul></div></div><div class="sect2"><h3 id="metrics_endpoint"><a class="link" href="#metrics_endpoint">3.4. Metrics Endpoint</a></h3><div class="paragraph"><p><code>jvm</code>, <code>jdbc</code>, <code>web</code>, <code>library</code> 등 여러가지 <code>metrics</code> 제공한다.</div><div class="paragraph"><p><code>Boot1</code>에서 <strong>계층형</strong>이었지만 2에서 <strong><code>Dimension</code>구조</strong>로 변경(Tag를 붙입)</div><div class="ulist"><div class="title">Dimension구조 장점</div><ul><li><p>이해하기 쉬움<li><p>여러 관점에서 지표 분석 가능<li><p>유연함 손쉬운 Tag 추가/삭제</ul></div><div class="ulist"><div class="title">RED Method - 반드시 측정해야하는 metrics</div><ul><li><p>Request Rate<li><p>Request Errors<li><p>Request Duration</ul></div><div class="paragraph"><p>Hystrix - Circuit Breaker 장애 내성 / 지연 내성</div></div><div class="sect2"><h3 id="micrometer"><a class="link" href="#micrometer">3.5. Micrometer</a></h3><div class="ulist"><div class="title">설정밥법</div><ul><li><p>dependency 추가 - AutoConfiguration<li><p>prometheus endpoint 추가</ul></div></div><div class="sect2"><h3 id="후기_2"><a class="link" href="#후기_2">3.6. 후기</a></h3><div class="paragraph"><p>컨디션이 좋지 않아 많이 졸으면서 들었는데 <code>Actuator</code>라는 모듈을 통해서 모니터링을 할 수 있고, 지표를 볼 수 있다는 새로운 사실을 알게되어 좋았다. 여러 서버를 돌린다면 <code>actuator</code>를 통해서 서버에서 지표를 제공하고, 그 지표를 수집하는 저장소와 가시화할 수 있는 방법이 추가로 필요할 텐데 이에 맞춰서 인프라를 구축한다면 좋겠다는 생각을 했다. 다만, 전사적인 인프라를 구축하는데 사용하는데는 약간 무리가 있지 않을까 라는 생각을 하게 되었는데, 다른 한 편으로는 잘 알지는 못하지만 전사적으로 사용하는데 무리가 없으니 사용하고 있겠지 라고 생각했다. 또한, <code>actuator</code>에서 가시화하는 일부 환경(?)에 맞춰서 효율적으로 데이터를 전달해준다는 정보는 정말 좋은 팁이였던 것 같다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="handle-null"><a class="link" href="#handle-null">4. 자바에서 null을 안전히 다루는 방법 (박성철님)</a></h2><div class="sectionbody"><div class="paragraph"><p>자바개발자라면 모두 궁금해할 만한 주제였다고 생각한다. 개발을 하는 과정에서 <code>null</code>체크를 한다고 했지만 발생하는 <code>NullPointerException</code>. 자바개발자가 가장 흔히 볼 수 있는 <code>Exception</code>이고, 고민을 많이 하는 부분이라고 생각한다. 많은 개발자들에게 고통을 주는 <code>null</code>을 안전하게 다루는 방법이라 하여 흥미가 생겨 이 세션을 듣게 되었다.</div><div class="sect2"><h3 id="null에_대해서"><a class="link" href="#null에_대해서">4.1. null에 대해서</a></h3><div class="ulist"><div class="title">JVM 언어 전쟁</div><ul><li><p>2000년대 중반 동적 티이핑/스크립팅 언어가 유행<li><p>2010년 전후 함수형 프로그래밍<li><p>2010년대 중반 null 안정성(실론, 코들린)</ul></div><div class="ulist"><div class="title">null 참조</div><ul><li><p>레코드 핸들링: 객체지향의 시초가 된 논문<li><p>특별한 값이 없음을 나타내려고 null을 도입했고 이 값을 사용하려고 할 때 오류를 내도록 설계<li><p>두 참조값이 null 일 때 두 참조는 동일하다고 판단</ul></div><div class="ulist"><div class="title">자바의 null 참조</div><ul><li><p>의미가 모호함<li><p>초기화되지 않음, 정의되지 않음, 값이 없음, null 값<li><p>모든 참조의 기본 상태(값?)<li><p>모든 참조는 null 가능</ul></div></div><div class="sect2"><h3 id="null을_안전하게_다루는_방법"><a class="link" href="#null을_안전하게_다루는_방법">4.2. null을 안전하게 다루는 방법</a></h3><div class="ulist"><div class="title">자바 기본 장치</div><ul><li><p>단정문(assertion)<div class="ulist"><ul><li><p>공개 메서드에서 사용하지 않아야 함<li><p>소비자이면서 생산자일 때 만 사용<li><p>enableassertions 또는 -ea 옵션으로 활성화</ul></div><li><p>java.util.Objects<div class="ulist"><ul><li><p>null을 핸들링할 수 있는 메소드들이 추가</ul></div><li><p>java.util.Optional<div class="ulist"><ul><li><p>변수와 반환값에 null을 사용하지 말라<li><p>Optional에 값이 있다가 확신하지 않는 한 get을 사용하지 말라<li><p>isPresent나 get은 가능한 사용하지 말라<li><p>필드 매개변수등으로는 사용하지 말라<div class="ulist"><ul><li><p>직렬화 불가</ul></div><li><p>반환값은 사용해도 된다</ul></div></ul></div><div class="ulist"><div class="title">null 잘 쓰는 법</div><ul><li><p>API에 최대한 쓰지 말아라<div class="ulist"><ul><li><p>null로 지나치게 유연한 메서드를 만들지 말고 명시적인 메서드를 만들어라<li><p>null을 반환하지 말라<li><p>반환 값이 꼭 있어야 한다면 null을 반환하지 말고 예외를 던져라<li><p>빈 반환값은 Null 객체</ul></div><li><p>사전조건과 사후조건을 확인하라: 계약에 의한 설계<div class="ulist"><ul><li><p>Design by Contract<li><p>(개인적으로 좀 더 공부가 필요할 것 같음)</ul></div><li><p>null의 범위를 지역(클래스 메서드)화</ul></div></div><div class="sect2"><h3 id="후기_3"><a class="link" href="#후기_3">4.3. 후기</a></h3><div class="paragraph"><p>발표자 분께서 <code>null</code>을 다루는 몇가지 방법에 대해서 공유를 해주셨고, 주의할 점에 대해서 공유를 해주셨는데 누군가 알려주지 않았지만 느낌적인 느낌으로 발표내용처럼 하고있던 부분들이 있어서 숙제검사를 받은 느낌이라 좋았고, 주의해야될 부분들이 정말 꿀팁이였던 것 같다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="testing"><a class="link" href="#testing">5. 무엇을 테스트할 것인가? 어떻게 테스트할 것인가? (권용근님)</a></h2><div class="sectionbody"><div class="paragraph"><p>평소에 테스트에 대해서 많은 관심을 가지고 있기 때문에 꼭 듣고싶었던 세션이다. 세션을 들어가기 전부터 기대를 많이 했고 내용이 궁금했다. 결론적으로는 이번 SpringCamp에서 가장 만족한 세션이었다.</div><div class="sect2"><h3 id="테스트로부터_얻을_수_있는것"><a class="link" href="#테스트로부터_얻을_수_있는것">5.1. 테스트로부터 얻을 수 있는것</a></h3><div class="paragraph"><p>안정감과 자신감이 생긴다</div></div><div class="sect2"><h3 id="무엇을_테스트할_것인가"><a class="link" href="#무엇을_테스트할_것인가">5.2. 무엇을 테스트할 것인가?</a></h3><div class="ulist"><ul><li><p>비즈니스 요구사항 정리<li><p>구현 vs 설계<li><p>구현은 언젠가 변할 수 있고 테스트는 구현에서 무엇을 하는지 알 수 없고 알 필요도 없다</ul></div><div class="ulist"><div class="title">테스트 불가능한 것</div><ul><li><p>외부 요청<li><p>외부 저장소</ul></div></div><div class="sect2"><h3 id="어떻게_테스트할_것인가"><a class="link" href="#어떻게_테스트할_것인가">5.3. 어떻게 테스트할 것인가?</a></h3><div class="ulist"><ul><li><p>테스트할 수 없는 것을 바운더리 레이어까지 올려서 피해를 최소화한다<li><p>제어할 수 없는 영역을 파라미터로 받을 수 있는지 검토한다<li><p>비즈니스 요구사항 및 설계가 변경될 수 있다</ul></div><div class="ulist"><div class="title">Java, Spring Framework</div><ul><li><p>테스트를 할 때 <code>Spring Context</code>가 굳이 필요하지 않다<li><p>테스트를 할 때 비즈니스 프레임워크에 의존하지 말라</ul></div><div class="ulist"><div class="title">Test Double</div><ul><li><p>무엇을 <code>Test Double</code>로 처리?<li><p>테스트가 구현을 알아야 함? &#8658; 알 필요 없다<li><p>제어할 수 없는 영역을 <code>Test Double</code>로 처리</ul></div><div class="ulist"><div class="title">Embedded</div><ul><li><p>스프링에 내장된 시스템을 최대한 활용(ex. H2)</ul></div></div><div class="sect2"><h3 id="tip_rule"><a class="link" href="#tip_rule">5.4. Tip &amp; Rule</a></h3><div class="ulist"><ul><li><p>테스트는 상호 독립적이어야 한다.(데이터간 의존성이 있어서는 안된다)<li><p>테스트안에 의도가 드러날 수 있도록 해라<li><p>테스트코드도 리팩토링 대상이다</ul></div></div><div class="sect2"><h3 id="후기_4"><a class="link" href="#후기_4">5.5. 후기</a></h3><div class="paragraph"><p>앞서 언급했지만 평소에 테스트에 대해서 많은 관심을 가지고 있어서 가장 기대를 했고 주의깊게 들은 세션이다. 전체적으로 나와 비슷한 생각의 내용으로 발표를 하셔서 방향을 잘 잡아가고 있구나 라고 검사를 받은 느낌이 들어서 기분이 좋았다. 다만 <code>Test Double</code> 대상을 선git 정하는 부분에 대해서는 생각이 다른 부분이 있었다. 몇몇 이유때문에 테스트에서는 구현에서 어떤 행위를 하는지 알 수 있고 알아야 한다고 생각한다. 잘 못된 생각을 하고있을 수도 있지만 결론적으로 생각이 바뀌진 않았다. 생각이 바뀌진 않았지만 다른 사람의 생각을 듣고 고민을 하고 다시 생각해볼 수 있는 계기가 되어 좋았다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="improvement-legacy"><a class="link" href="#improvement-legacy">6. 당신도 할 수 있는 레거시 프로젝트 개선 이야기 (이경일님)</a></h2><div class="sectionbody"><div class="paragraph"><p>누구나 경험해본, 경험하고 있는, 경험할 예정인 레거시 프로젝트를 개선한 경험을 공유하는 세션이여서 매우 흥미로운 주제이고 궁금해서 세션을 들었다.</div><div class="sect2"><h3 id="레거시_코드란"><a class="link" href="#레거시_코드란">6.1. 레거시 코드란?</a></h3><div class="ulist"><ul><li><p>막막한 코드?<li><p>복잡한 코드?<li><p>남(주로 퇴사자)이 짠 코드?<li><p>테스트코드로 커버되지 않으며 유지보수가 되고있지 않은 코드<li><p>방치되고있는 코드<li><p>오랜 시간 안정적으로 돌아가는 코드</ul></div></div><div class="sect2"><h3 id="레거시_코드를_외면하는_이유"><a class="link" href="#레거시_코드를_외면하는_이유">6.2. 레거시 코드를 외면하는 이유?</a></h3><div class="ulist"><ul><li><p>다른사람이 짠 코드는 수정하기 싫다<li><p>신규프로젝트가 재미있다<li><p>조직에서 인정받기 어렵다(ex. 평가가 좋지 않다&#8230;&#8203;)</ul></div></div><div class="sect2"><h3 id="레거시_코드_개선"><a class="link" href="#레거시_코드_개선">6.3. 레거시 코드 개선</a></h3><div class="ulist"><ul><li><p>DDD? MSA?<div class="ulist"><ul><li><p>하면 좋긴 하다&#8230;&#8203;</ul></div></ul></div><div class="ulist"><div class="title">내편으로 만들기</div><ul><li><p>왜 이렇게만들었어 지만 잘 동작은 하고 있음&#8230;&#8203;<li><p>로직 파악하기<li><p>직접 돌려보면서 파악하는 것이 중요<li><p>테스트 케이스를 봐야함<div class="ulist"><ul><li><p>하지만 테스트케이스가 없을수도 있다</ul></div></ul></div><div class="ulist"><div class="title">급한불부터 끄기</div><ul><li><p>코드 리팩토링<li><p>리팩토링 대상 우선순위 정하기<li><p>불필요하거나 수정하기 어려운(? 유지보수하기 어려운?) 것은 과감하게 삭제</ul></div><div class="ulist"><div class="title">한걸음씩 가기</div><ul><li><p>코드 패키지 분리<li><p>분리가 용이하도록 설계 변경<li><p>코드를 분리할 수 있는 부분은 분리<li><p>개선을 하면서 코드 단위가 커지면 또 분리</ul></div><div class="ulist"><div class="title">아픈 곳 고치기</div><ul><li><p>리소스 사용량이 많은 부분은 추출<li><p>로컬 캐시를 사용할 수 있는 부분은 로컬캐시를 사용<li><p>Memory Leak이 있는지 검토(?)<li><p>Matcher_AppendReplacement &#8658; 메모리 효율이 좋음<li><p>OOM Killer가 죽일 떄가 있는데 이런 경우 로그를 확인해서 왜 죽였는지 파악<li><p>v.v2.2 이상이 아니면 쓰지 않는것이&#8230;&#8203;(안정화가 안됐을 가능성이 높다)</ul></div><div class="ulist"><div class="title">조금 더 다듬기</div><ul><li><p>RAM Drive를 사용할 수 있는가?<li><p>Spring Cloud Config<div class="ulist"><ul><li><p>설정을 Cloud로 관리해서 배포 없이 설정 변경<li><p><code>basedir</code>이 <code>/tmp/</code> 밑에 들어가서 삭제될 수 있기 때문에 <code>basedir</code> 수정하는것이 좋음</ul></div><li><p>GC 튜닝 포인트 확인</ul></div></div><div class="sect2"><h3 id="후기_5"><a class="link" href="#후기_5">6.4. 후기</a></h3><div class="paragraph"><p>이경일님의 세션은 레거시 코드를 개선해나간 과정에서 경험한 내용을 공유해주셨다. 세션을 들으면서 레거시 코드를 개선할 때 살펴봐야할 부분들과 주의할 부분 그리고 개선하는 순서 및 개선방법에 대해 생각을 해보게 되었고, 이후에 레거시를 개선한다면 많은 도움이 될 것 같다.</div><div style="page-break-after: always;"></div></div></div></div><div class="sect1"><h2 id="postscript"><a class="link" href="#postscript">7. 후기</a></h2><div class="sectionbody"><div class="paragraph"><p>전체적으로 참석한 세션이 모두 만족스러웠지만 특히 권용근님의 <strong>"무엇을 테스트할 것인가? 어떻게 테스트할 것인가?"</strong>와 이경일님의 <strong>"당신도 할 수 있는 레거시 프로젝트 개선 이야기"</strong> 세션이 정말 재미있었다. 이 중에도 권용근님의 세션이 정말 좋았는데, 앞서 작성한 후기 내용처럼 내가 생각하는 부분과 유사해서 '방향을 잘 잡아가고 있구나' 라고 생각을 할 수 있었고, 발표 내용중에 내가 생각하는 부분과 다른 부분에서는 '저렇게 할 수도 있구나, 저렇게 해서 얻는 이점이 뭐지?'라고 비교 및 고민을 해볼 수 있게되어 좋았다.</div><div class="paragraph"><p><strong>멀티리전 가용성을 위한 글로벌 캐싱 - Hidden micro services (정윤진님, 김필중님)</strong>, <strong>Local Cache와 Invalidation Message Propagation 전략을 활용하여 API 성능 튜닝하기 (김민규님)</strong> 이 두 세션도 듣고 싶었지만 컨디션이 좋지 않아 일찍 귀가를 해서 듣지 못해 조금 아쉬운 부분이 남았다.</div><div class="paragraph"><p>최근에 조금 많이 안일해져서 이전처럼 공부를 많이 하고 있지 않았는데, 이번에 SpringCamp에 참석해서 나에게 다시 자극을 줄 수 있는 계기기 되었고 이로 인해 정말 참석을 잘 했다 라는 생각을 한다. 이번 행사에서 아쉬운 부분이 조금은 있었지만 SpringCamp는 참석할 때 마다 매우 만족하고 있고, 다음 SpringCamp도 벌써 기대가 된다.</div></div></div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1986785092914105" data-ad-slot="9021907658" data-ad-format="auto"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></article><aside class="author" role="complementary"><h2>About</h2><img class="me" alt="Hyeonil Jeong" src="/public/img/profile2.jpg" srcset="/public/img/profile2.jpg 2x" /><p><strong>Name</strong>: Hyeonil Jeong<p><strong>Birth</strong>: 1990-**-**<p><strong>E-mail</strong>: ^_^<p><strong>Job</strong>: Web Back-end Programmer<p><strong>Interest</strong>: Java, Test, Specification, Architecture, Clean Code</aside><aside class="related" role="complementary"><h2>Related Posts</h2><ul class="related-posts"><li> <a href="/2018/11/08/spring-one/"> <span>SpringOne Tour 2018 Memo</span> <small><time datetime="2018-11-08T00:00:00+00:00"> 11/08/18 </time></small> </a><li> <a href="/2018/02/18/dockerfile/"> <span>Dockerfile</span> <small><time datetime="2018-02-18T00:00:00+00:00"> 02/18/18 </time></small> </a><li> <a href="/2018/02/18/docker-compose/"> <span>docker-compose</span> <small><time datetime="2018-02-18T00:00:00+00:00"> 02/18/18 </time></small> </a></ul></aside><aside class="comments" role="complementary"><h2>Comments</h2><div id="disqus_thread"></div><script> var disqus_config = function () { this.page.url = 'https://blog.nuti.pe.kr/2019/04/28/spring-camp-2019/'; this.page.identifier = '/2019/04/28/spring-camp-2019'; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://nuti01.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></aside></main><div id="_backdrop" class="backdrop"></div><header id="_sidebar" class="sidebar" role="banner"><div id="_asidebar" class="container sidebar-sticky"><div class="sidebar-about"><h1 class="font-accent"><a href="/">Hyeonil's Note</a></h1><p>Hyeonil’s Dev Note</div><nav class="sidebar-nav font-accent" role="navigation"><ul><li> <a class="sidebar-nav-item " href="/tag/all/">All</a><li> <a class="sidebar-nav-item " href="/tag/java/">Java</a><li> <a class="sidebar-nav-item " href="/tag/spring/">Spring</a><li> <a class="sidebar-nav-item " href="/tag/spec/">Specification</a><li> <a class="sidebar-nav-item " href="/tag/architecture/">Architecture</a><li> <a class="sidebar-nav-item " href="/tag/diary/">Diary</a><li> <a class="sidebar-nav-item " href="/tag/etc/">Etc</a><li> <a class="sidebar-nav-item " href="/about/">About</a></ul></nav><div class="sidebar-social"><ul><li> <a href="https://github.com/hyeonil"> <span class="fa fa-github"></span> <span class="sr-only">github</span> </a><li> <a href="https://nuti.tistory.com"> <span class="fa fa-external-link"></span> <span class="sr-only">blog</span> </a></ul></div></div></header><!--[if gt IE 8]><!----> <script>loadJSDeferred('/public/js/hydejack.min.js')</script> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|PT+Serif:400,400italic,700,700italic'.split('|') }, custom: { families: ['icomoon'], urls: ['/public/css/font-awesome.min.css'] }, classes: false, events: false }; </script> <script>loadJSDeferred('https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js')</script> <script> window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga('create', 'UA-88066046-1', 'auto'); ga('send', 'pageview'); </script> <script>loadJSDeferred('https://www.google-analytics.com/analytics.js')</script> <!--<![endif]-->
